{"version":3,"sources":["components/Product.js","components/LoadingBox.js","components/MessageBox.js","constants/productConstants.js","actions/productActions.js","screens/HomeScreen.js","components/Ratings.js","screens/ProductScreen.js","constants/cartConstants.js","actions/cartActions.js","screens/CartScreen.js","constants/userConstants.js","actions/userActions.js","screens/SigninScreen.js","screens/RegisterScreen.js","screens/ShippingScreen.js","constants/orderConstants.js","actions/orderActions.js","screens/PlaceOrderScreen.js","screens/OrderDetailsScreen.js","screens/OrderHistoryScreen.js","screens/ProfileScreen.js","components/PrivateRoute.js","cheewa-logo.png","screens/ProductsListScreen.js","App.js","reportWebVitals.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js"],"names":["Product","props","product","className","to","_id","alt","name","src","image","price","LoadingBox","MessageBox","variant","children","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","listProducts","dispatch","a","type","Axios","get","data","payload","message","HomeScreen","useDispatch","productList","useSelector","state","loading","error","products","useEffect","onClick","history","push","map","numReviews","rating","Ratings","ProductScreen","productId","match","params","id","useState","qty","setQty","productDetails","response","detailsProduct","description","countInStock","value","onChange","e","target","Array","keys","x","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_EMPTY","addToCart","getState","localStorage","setItem","JSON","stringify","cart","cartItems","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","length","item","reduce","c","disabled","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAIL","USER_SIGNOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","generateErrorMsg","SigninScreen","email","setEmail","password","setPassword","redirect","userSignin","userInfo","onSubmit","preventDefault","post","signin","htmlFor","required","RegisterScreen","setName","confirmPassword","setConfirmPassword","userRegister","errorMsg","includes","alert","register","ShippingScreen","shippingAddress","paymentMethod","setPaymentMethod","fullName","setFullName","streetAddress","setStreetAddress","suiteNumber","setSuiteNumber","city","setCity","province","setProvince","postalCode","setPostalCode","phoneNumber","setPhoneNumber","savePaymentMethod","checked","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","PlaceOrderScreen","orderCreate","success","order","toPrice","num","toFixed","itemsPrice","shippingPrice","tax","totalPrice","headers","Authorization","token","console","log","removeItem","createOrder","orderItems","OrderDetailsScreen","orderId","sdkReady","setSdkReady","orderDetails","orderPay","errorPay","successPay","loadingPay","addPayPalScript","script","document","createElement","async","onload","body","appendChild","detailsOrder","isPaid","window","paypal","isShipped","shippedOn","paidOn","amount","onSuccess","paymentResult","put","payOrder","OrderHistoryScreen","orderList","orders","createdAt","substring","ProfileScreen","showSuccessMsg","setShowSuccessMsg","userDetails","user","userUpdate","successUpdate","loadingUpdate","errorUpdate","userId","updateUser","placeholder","PrivateRoute","Component","component","rest","render","ProductsListScreen","App","logo","isAdmin","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","getItem","parse","reducer","combineReducers","action","existItem","find","filter","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","getElementById"],"mappings":"mMAoBeA,EAjBC,SAACC,GACb,IAAOC,EAAWD,EAAXC,QACP,OACI,qBAAuBC,UAAU,aAAjC,SACI,eAAC,IAAD,CAAMC,GAAE,mBAAcF,EAAQG,KAA9B,UACI,qBAAKC,IAAKJ,EAAQK,KAAMJ,UAAU,aAAaK,IAAKN,EAAQO,QAC5D,qBAAKN,UAAU,YAAf,SACI,sBAAKA,UAAU,kBAAf,UAAkCD,EAAQK,KAAK,uBAA/C,IACKL,EAAQQ,eALfR,EAAQG,MCIXM,EARI,WACf,OACI,sBAAKR,UAAU,UAAf,UACI,mBAAGA,UAAU,0BADjB,iBCMOS,EARI,SAACX,GAChB,OACI,qBAAKE,UAAS,sBAAiBF,EAAMY,SAAW,QAAhD,SACKZ,EAAMa,Y,8BCLNC,EAAuB,uBACvBC,EAAuB,uBACvBC,EAAoB,oBAEpBC,EAA0B,0BAC1BC,EAA0B,0BAC1BC,EAAuB,uB,iBCGvBC,EAAe,yDAAM,WAAOC,GAAP,iBAAAC,EAAA,6DAC9BD,EAAS,CACLE,KAAMT,IAFoB,kBAMHU,IAAMC,IAAI,iBANP,gBAMlBC,EANkB,EAMlBA,KACRL,EAAS,CAACE,KAAMR,EAAsBY,QAASD,IAPrB,gDAS1BL,EAAS,CAACE,KAAMP,EAAmBW,QAAS,KAAMC,UATxB,yDAAN,uDCoCbC,EAtCI,SAAC7B,GAChB,IAAMqB,EAAWS,cACXC,EAAcC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,eACxCG,EAA4BH,EAA5BG,QAASC,EAAmBJ,EAAnBI,MAAOC,EAAYL,EAAZK,SAMvB,OAJAC,qBAAU,WACNhB,EAASD,OACV,CAACC,IAGA,sBAAKnB,UAAU,cAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,sBAAKA,UAAU,QAAf,UACI,gGACA,wBAAQA,UAAU,UAAUoC,QAAS,WACjCtC,EAAMuC,QAAQC,KAAd,cADJ,+BAKR,oBAAItC,UAAU,yBAAd,yBACCgC,EACG,cAAC,EAAD,IACAC,EACI,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,IAC9B,qBAAKjC,UAAU,MAAf,SAEQkC,EAASK,KAAI,SAAAxC,GAAO,OACfA,EAAQyC,YAAc,IAAMzC,EAAQ0C,OAAS,EACtC,cAAC,EAAD,CAA2B1C,QAASA,GAAtBA,EAAQG,KACtB,uBAAUH,EAAQG,c,eCiB3CwC,EAnDC,SAAC5C,GACb,IAAO2C,EAAsB3C,EAAtB2C,OAAQD,EAAc1C,EAAd0C,WACf,OACI,sBAAKxC,UAAU,SAAf,UACI,+BACI,mBAAGA,UACCyC,GAAU,EACN,aACAA,GAAU,GACN,oBACA,mBAEhB,+BACI,mBAAGzC,UACCyC,GAAU,EACN,aACAA,GAAU,IACN,oBACA,mBAEhB,+BACI,mBAAGzC,UACCyC,GAAU,EACN,aACAA,GAAU,IACN,oBACA,mBAEhB,+BACI,mBAAGzC,UACCyC,GAAU,EACN,aACAA,GAAU,IACN,oBACA,mBAEhB,+BACI,mBAAGzC,UACCyC,GAAU,EACN,aACAA,GAAU,IACN,oBACA,mBAEhB,+BACKD,EAAa,iBCuDfG,EA/FO,SAAC7C,GACnB,IAAMqB,EAAWS,cACXgB,EAAY9C,EAAM+C,MAAMC,OAAOC,GACrC,EAAsBC,mBAAS,GAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KACMC,EAAiBrB,aAAY,SAACC,GAAD,OAAWA,EAAMoB,kBAC5CnB,EAA4BmB,EAA5BnB,QAASC,EAAmBkB,EAAnBlB,MAAOlC,EAAYoD,EAAZpD,QAExBoC,qBAAU,WACNhB,EHOsB,SAACyB,GAAD,8CAAe,WAAOzB,GAAP,iBAAAC,EAAA,6DACzCD,EAAS,CAAEE,KAAMN,EAAyBU,QAASmB,IADV,kBAGdtB,IAAMC,IAAN,wBAA2BqB,IAHb,gBAG7BpB,EAH6B,EAG7BA,KACRL,EAAS,CAAEE,KAAML,EAAyBS,QAASD,IAJd,gDAMrCL,EAAS,CACLE,KAAMJ,EACNQ,QACI,KAAM2B,UAAY,KAAMA,SAAS5B,KAAKE,QAChC,KAAM0B,SAAS5B,KAAKE,QACpB,KAAMA,UAXiB,yDAAf,sDGPb2B,CAAeT,MACzB,CAACzB,EAAUyB,IAMd,OACI,qBAAK5C,UAAU,iBAAf,SACKgC,EACG,cAAC,EAAD,IACAC,EACI,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,IAC9B,8BACI,sBAAKjC,UAAU,UAAf,UACI,qBAAKA,UAAU,yBAAf,SACI,qBAAKA,UAAU,QAAQK,IAAKN,EAAQO,MAAOH,IAAKJ,EAAQK,SAE5D,qBAAKJ,UAAU,yBAAf,SACI,+BACI,6BACI,6BAAKD,EAAQK,SAEjB,6BACI,cAAC,EAAD,CAASqC,OAAQ1C,EAAQ0C,OAAQD,WAAYzC,EAAQyC,eAEzD,6BACKzC,EAAQuD,mBAIrB,qBAAKtD,UAAU,QAAf,SACI,qBAAKA,UAAU,OAAf,SACI,+BACI,6BACI,sBAAKA,UAAU,MAAf,UACI,wCACA,sBAAKA,UAAU,QAAf,cAAyBD,EAAQQ,cAGzC,6BACI,sBAAKP,UAAU,MAAf,UACI,yCACA,qBAAKA,UAAU,QAAf,SACKD,EAAQwD,aAAe,EACpB,sBAAMvD,UAAU,UAAhB,sBACA,sBAAMA,UAAU,SAAhB,iCAKZD,EAAQwD,aAAe,EACnB,6BACI,sBAAKvD,UAAU,MAAf,UACI,2CACA,8BACI,wBAAQwD,MAAOP,EAAKQ,SAAU,SAAAC,GAAC,OAAIR,EAAOQ,EAAEC,OAAOH,QAAnD,SAEQ,YAAII,MAAM7D,EAAQwD,cAAcM,QAAQtB,KAAI,SAAAuB,GAAC,OACzC,wBACQN,MAAOM,EAAI,EADnB,SACuBA,EAAI,GADdA,EAAI,eAQzC,6BAGJ/D,EAAQwD,aAAe,EACnB,6BACI,wBAAQnB,QArE/B,WACrBtC,EAAMuC,QAAQC,KAAd,gBAA4BM,EAA5B,gBAA6CK,KAoEkCjD,UAAU,gBAA7C,2BAEJ,4CCzFnC+D,EAAgB,gBAChBC,EAAmB,mBACnBC,EAA6B,6BAC7BC,EAA2B,2BAC3BC,EAAa,aCIbC,EAAY,SAACxB,EAAWK,GAAZ,8CAAoB,WAAM9B,EAAUkD,GAAhB,iBAAAjD,EAAA,sEACpBE,IAAMC,IAAN,wBAA2BqB,IADP,gBAClCpB,EADkC,EAClCA,KACPL,EAAS,CACLE,KAAM0C,EACNtC,QAAS,CACLrB,KAAMoB,EAAKpB,KACXE,MAAOkB,EAAKlB,MACZC,MAAOiB,EAAKjB,MACZgD,aAAc/B,EAAK+B,aACnBxD,QAASyB,EAAKtB,IACd+C,SAGRqB,aAAaC,QAAQ,YAAaC,KAAKC,UAAUJ,IAAWK,KAAKC,YAbxB,2CAApB,yDC6FVC,EA/FI,SAAC9E,GAChB,IAAM8C,EAAY9C,EAAM+C,MAAMC,OAAOC,GAC/BE,EAAMnD,EAAM+E,SAASC,OACvBC,OAAOjF,EAAM+E,SAASC,OAAOE,MAAM,KAAK,IACxC,EAGGL,EADM7C,aAAY,SAAAC,GAAK,OAAIA,EAAM2C,QACjCC,UACDxD,EAAWS,cAEjBO,qBAAU,WACHS,GACCzB,EAASiD,EAAUxB,EAAWK,MAEnC,CAAC9B,EAAUyB,EAAWK,IAEzB,IAAMgC,EAAwB,SAACrC,GAC3BzB,EDCsB,SAACyB,GAAD,OAAe,SAACzB,EAAUkD,GACpDlD,EAAS,CACLE,KAAM2C,EACNvC,QAASmB,IAEb0B,aAAaC,QAAQ,YAAaC,KAAKC,UAAUJ,IAAWK,KAAKC,aCNpDO,CAAetC,KAQ5B,OACI,sBAAK5C,UAAU,sBAAf,UACI,oBAAIA,UAAU,wBAAd,uBACA,qBAAKA,UAAU,yBAAf,SAE6B,IAArB2E,EAAUQ,OACN,eAAC,EAAD,iCAEI,cAAC,IAAD,CAAMlF,GAAG,IAAT,6BAEJ,6BAEQ0E,EAAUpC,KAAI,SAAA6C,GAAI,OACd,6BACI,sBAAKpF,UAAU,MAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,cAAC,IAAD,CAAMC,GAAE,mBAAcmF,EAAKrF,SAA3B,SAAsC,qBAAKM,IAAK+E,EAAK9E,MAAOH,IAAKiF,EAAKhF,KAAMJ,UAAU,cAE1F,qBAAKA,UAAU,YAAf,SACI,cAAC,IAAD,CAAMC,GAAE,mBAAcmF,EAAKrF,SAA3B,SAAuCqF,EAAKhF,SAEhD,sBAAKJ,UAAU,YAAf,UACI,8BACI,wBAAQwD,MAAO4B,EAAKnC,IAAKQ,SAAU,SAAAC,GAAC,OAAIvC,EAASiD,EAAUgB,EAAKrF,QAASgF,OAAOrB,EAAEC,OAAOH,UAAzF,SAEQ,YAAII,MAAMwB,EAAK7B,cAAcM,QAAQtB,KAAI,SAAAuB,GAAC,OACtC,wBACQN,MAAOM,EAAI,EADnB,SACuBA,EAAI,GADdA,EAAI,UAMjC,oCAAOsB,EAAK7E,SACZ,8BACI,wBAAQc,KAAK,SAASrB,UAAU,cAAcoC,QAAS,kBAAM6C,EAAsBG,EAAKrF,UAAxF,SAAkG,mBAAGC,UAAU,iCArBtHoF,EAAKrF,gBA+BtC,sBAAKC,UAAU,wBAAf,UACI,qBAAKA,UAAU,OAAf,SACI,+BACI,6BACI,+BACK2E,EAAUU,QAAO,SAACjE,EAAGkE,GAAJ,OAAUlE,EAAIkE,EAAErC,MAAK,GAD3C,UACqD,uBADrD,cAEgB0B,EAAUU,QAAO,SAACjE,EAAGkE,GAAJ,OAAUlE,EAAIkE,EAAE/E,MAAQ+E,EAAErC,MAAK,QAGpE,6BAE6B,IAArB0B,EAAUQ,OACN,6BACA,wBAAQ9D,KAAK,SAASe,QA9DtD,WAEItC,EAAMuC,QAAQC,KAAK,8BA4DyDtC,UAAU,gBAAgBuF,SAA+B,IAArBZ,EAAUQ,OAA9F,wCAMK,IAArBR,EAAUQ,OAAe,6BAAS,cAAC,IAAD,CAAMlF,GAAG,YAAT,uCC9FzCuF,EAAsB,sBACtBC,EAAsB,sBACtBC,EAAmB,mBACnBC,EAAe,eAEfC,EAAwB,wBACxBC,EAAwB,wBACxBC,EAAqB,qBAErBC,EAAuB,uBACvBC,EAAuB,uBACvBC,EAAoB,oBAEpBC,EAAsB,sBACtBC,EAAsB,sBACtBC,EAAmB,mBACnBC,EAAoB,oBC2F3BC,EAAmB,SAACrE,GAAD,OAAWA,EAAMmB,UAAYnB,EAAMmB,SAAS5B,KAAKE,QAAUO,EAAMmB,SAAS5B,KAAKE,QAAUO,EAAMP,SC9CzG6E,EAtDM,SAACzG,GAClB,MAA0BkD,qBAA1B,mBAAOwD,EAAP,KAAcC,EAAd,KACA,EAAgCzD,mBAAS,IAAzC,mBAAO0D,EAAP,KAAiBC,EAAjB,KAEMC,EAAW9G,EAAM+E,SAASC,OAAShF,EAAM+E,SAASC,OAAOE,MAAM,KAAK,GAAK,IAEzE6B,EAAa/E,aAAY,SAAAC,GAAK,OAAIA,EAAM8E,cACvCC,EAA4BD,EAA5BC,SAAU9E,EAAkB6E,EAAlB7E,QAASC,EAAS4E,EAAT5E,MAEpBd,EAAWS,cAcjB,OAPAO,qBAAU,WACH2E,GAEChH,EAAMuC,QAAQC,KAAKsE,KAExB,CAAC9G,EAAMuC,QAASuE,EAAUE,IAGzB,8BACI,uBAAM9G,UAAU,OAAO+G,SAdT,SAACrD,GACnBA,EAAEsD,iBACF7F,EDac,SAACqF,EAAOE,GAAR,8CAAqB,WAAOvF,GAAP,iBAAAC,EAAA,6DACvCD,EAAS,CAACE,KAAMmE,EAAqB/D,QAAQ,CAAC+E,QAAOE,cADd,kBAGdpF,IAAM2F,KAAK,oBAAqB,CAACT,QAAOE,aAH1B,gBAG5BlF,EAH4B,EAG5BA,KACPL,EAAS,CACLE,KAAMoE,EACNhE,QAASD,IAEb8C,aAAaC,QAAQ,WAAYC,KAAKC,UAAUjD,IARb,kDAUnCL,EAAS,CACLE,KAAMqE,EACNjE,QAAS6E,EAAiB,EAAD,MAZM,0DAArB,sDCbLY,CAAOV,EAAOE,KAYnB,UACI,8BACI,oBAAI1G,UAAU,aAAd,uBAEHgC,GAAW,cAAC,EAAD,IACXC,GAAS,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,IACxC,gCACI,uBAAOkF,QAAQ,QAAf,2BACA,uBAAO9F,KAAK,QAAQ0B,GAAG,QAAQqE,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAI+C,EAAS/C,EAAEC,OAAOH,aAE7E,gCACI,uBAAO2D,QAAQ,WAAf,sBACA,uBAAO9F,KAAK,WAAW0B,GAAG,WAAWqE,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAIiD,EAAYjD,EAAEC,OAAOH,aAEtF,gCACI,0BACA,wBAAQxD,UAAU,UAAUqB,KAAK,SAAjC,wBAEJ,gCACI,0BACA,iDACmB,KADnB,IACyB,cAAC,IAAD,CAAMpB,GAAE,6BAAwB2G,GAAhC,wCCwB9BS,GAtEQ,SAACvH,GACpB,MAAwBkD,qBAAxB,mBAAO5C,EAAP,KAAakH,EAAb,KACA,EAA0BtE,qBAA1B,mBAAOwD,EAAP,KAAcC,EAAd,KACA,EAAgCzD,mBAAS,IAAzC,mBAAO0D,EAAP,KAAiBC,EAAjB,KACA,EAA8C3D,mBAAS,IAAvD,mBAAOuE,EAAP,KAAwBC,EAAxB,KAEMZ,EAAW9G,EAAM+E,SAASC,OAAShF,EAAM+E,SAASC,OAAOE,MAAM,KAAK,GAAK,IAEzEyC,EAAe3F,aAAY,SAAAC,GAAK,OAAIA,EAAM0F,gBACzCX,EAA4BW,EAA5BX,SAAU9E,EAAkByF,EAAlBzF,QAASC,EAASwF,EAATxF,MAEpBd,EAAWS,cAEX8F,EAAWzF,GAASA,EAAM0F,SAAS,yCAA2C,4CAA8C,GAkBlI,OAPAxF,qBAAU,WACH2E,GAEChH,EAAMuC,QAAQC,KAAKsE,KAExB,CAAC9G,EAAMuC,QAASuE,EAAUE,IAGzB,8BACI,uBAAM9G,UAAU,OAAO+G,SAlBT,SAACrD,GACnBA,EAAEsD,iBACCN,IAAaa,EACZK,MAAM,iDAENzG,EFfY,SAACf,EAAMoG,EAAOE,GAAd,8CAA2B,WAAOvF,GAAP,iBAAAC,EAAA,6DAC/CD,EAAS,CAACE,KAAMuE,EAAuBnE,QAAQ,CAAC+E,QAAOE,cADR,kBAGtBpF,IAAM2F,KAAK,sBAAuB,CAAC7G,OAAMoG,QAAOE,aAH1B,gBAGpClF,EAHoC,EAGpCA,KACPL,EAAS,CACLE,KAAMwE,EACNpE,QAASD,IAEbL,EAAS,CACLE,KAAMoE,EACNhE,QAASD,IAEb8C,aAAaC,QAAQ,WAAYC,KAAKC,UAAUjD,IAZL,kDAc3CL,EAAS,CACLE,KAAMyE,EACNrE,QAAS6E,EAAiB,EAAD,MAhBc,0DAA3B,sDEeHuB,CAASzH,EAAMoG,EAAOE,KAa/B,UACI,8BACI,oBAAI1G,UAAU,aAAd,8BAEHgC,GAAW,cAAC,EAAD,IACXC,GAAS,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BgH,IACxC,gCACI,uBAAOP,QAAQ,OAAf,kBACA,uBAAO9F,KAAK,OAAO0B,GAAG,OAAOqE,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAI4D,EAAQ5D,EAAEC,OAAOH,aAE1E,gCACI,uBAAO2D,QAAQ,QAAf,2BACA,uBAAO9F,KAAK,QAAQ0B,GAAG,QAAQqE,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAI+C,EAAS/C,EAAEC,OAAOH,aAE7E,gCACI,uBAAO2D,QAAQ,WAAf,sBACA,uBAAO9F,KAAK,WAAW0B,GAAG,WAAWqE,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAIiD,EAAYjD,EAAEC,OAAOH,aAEtF,gCACI,uBAAO2D,QAAQ,kBAAf,8BACA,uBAAO9F,KAAK,WAAW0B,GAAG,kBAAkBqE,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAI8D,EAAmB9D,EAAEC,OAAOH,aAEpG,gCACI,0BACA,wBAAQxD,UAAU,UAAUqB,KAAK,SAAjC,yBAEJ,gCACI,0BACA,4DAC8B,KAD9B,IACoC,cAAC,IAAD,CAAMpB,GAAE,2BAAsB2G,GAA9B,uCC2CzCkB,GA5GQ,SAAChI,GACpB,IACOgH,EADYhF,aAAY,SAAAC,GAAK,OAAIA,EAAM8E,cACvCC,SAEAiB,EADMjG,aAAY,SAAAC,GAAK,OAAIA,EAAM2C,QACjCqD,gBAEP,EAA0C/E,mBAAS,UAAnD,mBAAOgF,EAAP,KAAsBC,EAAtB,KAEInB,GACAhH,EAAMuC,QAAQC,KAAK,WAGvB,MAAgCU,mBAAS+E,EAAgBG,UAAzD,mBAAOA,EAAP,KAAiBC,EAAjB,KACA,EAA0CnF,mBAAS+E,EAAgBK,eAAnE,mBAAOA,EAAP,KAAsBC,EAAtB,KACA,EAAsCrF,mBAAS+E,EAAgBO,aAA/D,mBAAOA,EAAP,KAAoBC,EAApB,KACA,EAAwBvF,mBAAS+E,EAAgBS,MAAjD,mBAAOA,EAAP,KAAaC,EAAb,KACA,EAAgCzF,mBAAS+E,EAAgBW,UAAzD,mBAAOA,EAAP,KAAiBC,EAAjB,KACA,EAAoC3F,mBAAS+E,EAAgBa,YAA7D,mBAAOA,EAAP,KAAmBC,EAAnB,KACA,EAAsC7F,mBAAS+E,EAAgBe,aAA/D,mBAAOA,EAAP,KAAoBC,EAApB,KAEM5H,EAAWS,cAUjB,OACI,8BAEI,uBAAM5B,UAAU,OAAO+G,SAXT,SAACrD,GNMQ,IAAClC,EML5BkC,EAAEsD,iBACF7F,GNI4BK,EMJC,CAAC0G,WAAUE,gBAAeE,cAAaE,OAAME,WAAUE,aAAYE,eNI3D,SAAC3H,GAC1CA,EAAS,CACLE,KAAM4C,EACNxC,QAASD,IAGb8C,aAAaC,QAAQ,kBAAmBC,KAAKC,UAAUjD,OMTnDL,ENYyB,SAACK,GAAD,OAAU,SAACL,GACxCA,EAAS,CACLE,KAAM6C,EACNzC,QAASD,KMfAwH,CAAkBhB,IAC3BlI,EAAMuC,QAAQC,KAAK,gBAOf,UACI,qCACI,wBAAQtC,UAAU,aAAlB,8BACA,gCACI,uBAAOmH,QAAQ,WAAf,uBACA,uBAAO9F,KAAK,OAAO0B,GAAG,WAAWS,MAAO0E,EAAUd,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAIyE,EAAYzE,EAAEC,OAAOH,aAEnG,gCACI,uBAAO2D,QAAQ,gBAAf,4BACA,uBAAO9F,KAAK,OAAO0B,GAAG,gBAAgBS,MAAO4E,EAAehB,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAI2E,EAAiB3E,EAAEC,OAAOH,aAElH,gCACI,uBAAO2D,QAAQ,cAAf,oCACA,uBAAO9F,KAAK,OAAO0B,GAAG,cAAcS,MAAO8E,EAAa7E,SAAU,SAAAC,GAAC,OAAI6E,EAAe7E,EAAEC,OAAOH,aAEnG,gCACI,uBAAO2D,QAAQ,OAAf,kBACA,uBAAO9F,KAAK,OAAO0B,GAAG,OAAOS,MAAOgF,EAAMpB,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAI+E,EAAQ/E,EAAEC,OAAOH,aAEvF,gCACI,uBAAO2D,QAAQ,WAAf,sBACA,uBAAO9F,KAAK,OAAO0B,GAAG,WAAWS,MAAOkF,EAAUtB,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAIiF,EAAYjF,EAAEC,OAAOH,aAEnG,gCACI,uBAAO2D,QAAQ,aAAf,yBACA,uBAAO9F,KAAK,OAAO0B,GAAG,aAAaS,MAAOoF,EAAYxB,UAAQ,EAAC3D,SAAU,SAAAC,GAAC,OAAImF,EAAcnF,EAAEC,OAAOH,aAEzG,gCACI,uBAAO2D,QAAQ,cAAf,0BACA,uBAAO9F,KAAK,OAAO0B,GAAG,cAAcS,MAAOsF,EAAarF,SAAU,SAAAC,GAAC,OAAIqF,EAAerF,EAAEC,OAAOH,gBASvG,qCACI,wBAAQxD,UAAU,aAAlB,4BACA,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,QAAf,UACI,uBACIqB,KAAK,QACL0B,GAAG,SACHS,MAAM,SACNpD,KAAK,gBACLgH,UAAQ,EACR6B,SAAO,EACPxF,SAAU,SAAAC,GAAC,OAAIuE,EAAiBvE,EAAEC,OAAOH,UAE7C,uBAAO2D,QAAQ,SAAf,uBAEJ,sBAAKnH,UAAU,QAAf,UACI,uBACIqB,KAAK,QACL0B,GAAG,SACHS,MAAM,SACNpD,KAAK,gBACLgH,UAAQ,EACR3D,SAAU,SAAAC,GAAC,OAAIuE,EAAiBvE,EAAEC,OAAOH,UAE7C,uBAAO2D,QAAQ,SAAf,6BAIZ,gCACI,0BACA,wBAAQnH,UAAU,UAAUqB,KAAK,SAAjC,+B,QCzGP6H,GAAuB,uBACvBC,GAAuB,uBACvBC,GAAoB,oBACpBC,GAAqB,qBAErBC,GAAwB,wBACxBC,GAAwB,wBACxBC,GAAqB,qBAErBC,GAAoB,oBACpBC,GAAoB,oBACpBC,GAAiB,iBACjBC,GAAkB,kBAElBC,GAAqB,qBACrBC,GAAqB,qBACrBC,GAAkB,kBC2FzBzD,GAAmB,SAACrE,GAAD,OAAWA,EAAMmB,UAAYnB,EAAMmB,SAAS5B,KAAKE,QAAUO,EAAMmB,SAAS5B,KAAKE,QAAUO,EAAMP,SCQzGsI,GA3GU,SAAClK,GACtB,IAAM4E,EAAO5C,aAAY,SAAAC,GAAK,OAAIA,EAAM2C,QACpCA,EAAKsD,eACLlI,EAAMuC,QAAQC,KAAK,YAGvB,IAAM2H,EAAcnI,aAAY,SAAAC,GAAK,OAAIA,EAAMkI,eACxCjI,EAAkCiI,EAAlCjI,QAASkI,EAAyBD,EAAzBC,QAASjI,EAAgBgI,EAAhBhI,MAAOkI,EAASF,EAATE,MAC1BC,EAAU,SAACC,GAAD,OAAStF,OAAOsF,EAAIC,QAAQ,KAC5C5F,EAAK6F,WAAaH,EAAQ1F,EAAKC,UAAUU,QAAO,SAACjE,EAAEkE,GAAH,OAASlE,EAAIkE,EAAErC,IAAMqC,EAAE/E,QAAO,IAC9EmE,EAAK8F,cAAgB9F,EAAK6F,WAAa,GAAKH,EAAQ,GAAKA,EAAQ,GACjE1F,EAAK+F,IAAML,EAAQ,IAAO1F,EAAK6F,YAC/B7F,EAAKgG,WAAahG,EAAK6F,WAAa7F,EAAK8F,cAAgB9F,EAAK+F,IAE9D,IAAMtJ,EAAWS,cAcjB,OAPAO,qBAAU,WACH+H,IACCpK,EAAMuC,QAAQC,KAAd,iBAA6B6H,EAAMjK,MACnCiB,EAAS,CAACE,KAAMgI,QAErB,CAAClI,EAAUgJ,EAAOrK,EAAMuC,QAAS6H,IAGhC,qBAAKlK,UAAU,qBAAf,SAEI,sBAAKA,UAAU,UAAf,UACI,oBAAIA,UAAU,wBAAd,2BACA,qBAAKA,UAAU,yBAAf,SACI,+BACI,+BACI,0CACA,8BACI,2CADJ,IAC4B0E,EAAKqD,gBAAgBG,SADjD,IAC2D,uBACvD,8CAFJ,IAEoE,KAArCxD,EAAKqD,gBAAgBO,YAAqB5D,EAAKqD,gBAAgBO,YAAc,IAAM,GAFlH,IAEuH5D,EAAKqD,gBAAgBK,cAF5I,IAGK1D,EAAKqD,gBAAgBS,KAH1B,KAGkC9D,EAAKqD,gBAAgBW,SAHvD,KAGmEhE,EAAKqD,gBAAgBa,WAHxF,IAGoG,uBAChG,4CAJJ,IAI6BlE,EAAKqD,gBAAgBe,kBAGtD,+BACI,yCACA,8BACI,qDADJ,IACsCpE,EAAKsD,oBAG/C,+BACI,6CACA,oBAAIhI,UAAU,cAAd,SAEQ0E,EAAKC,UAAUpC,KAAI,SAAA6C,GAAI,OACnB,6BACI,sBAAKpF,UAAU,MAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,cAAC,IAAD,CAAMC,GAAE,mBAAcmF,EAAKrF,SAA3B,SAAsC,qBAAKM,IAAK+E,EAAK9E,MAAOH,IAAKiF,EAAKhF,KAAMJ,UAAU,cAE1F,qBAAKA,UAAU,SAAf,SACI,cAAC,IAAD,CAAMC,GAAE,mBAAcmF,EAAKrF,SAA3B,SAAuCqF,EAAKhF,SAEhD,gCAAMgF,EAAKnC,IAAX,OAAoBmC,EAAK7E,MAAzB,OAAoC6E,EAAKnC,IAAMmC,EAAK7E,aARnD6E,EAAKrF,sBAiBtC,qBAAKC,UAAU,wBAAf,SACI,qBAAKA,UAAU,OAAf,SACI,+BACI,+BACI,sBAAKA,UAAU,MAAf,UACI,gCAAM0E,EAAKC,UAAUU,QAAO,SAACjE,EAAEkE,GAAH,OAASlE,EAAIkE,EAAErC,MAAK,GAAhD,YACA,oCAAOyB,EAAK6F,WAAWD,QAAQ,SAEnC,sBAAKtK,UAAU,MAAf,UACI,2CACA,oCAAO0E,EAAK8F,cAAcF,QAAQ,SAEtC,sBAAKtK,UAAU,MAAf,UACI,sCACA,oCAAO0E,EAAK+F,IAAIH,QAAQ,SAE5B,uBACA,sBAAKtK,UAAU,MAAf,UACI,8BAAK,6CACL,8BAAK,uCAAU0E,EAAKgG,WAAWJ,QAAQ,cAG/C,6BACI,wBAAQtK,UAAU,gBAAgBqB,KAAK,SAASe,QA/ElD,WAEtBjB,EDXmB,SAACgJ,GAAD,8CAAW,WAAOhJ,EAAUkD,GAAjB,qBAAAjD,EAAA,6DAClCD,EAAS,CACLE,KAAM6H,GAAsBzH,QAAS0I,IAFP,EAKD9F,IAAbyC,EALc,EAK3BD,WAAaC,SALc,kBAQTxF,IAAM2F,KAAK,cAAekD,EAAO,CAClDQ,QAAS,CACLC,cAAc,UAAD,OAAY9D,EAAS+D,UAVZ,gBAQvBrJ,EARuB,EAQvBA,KAKPsJ,QAAQC,IAAI,UAAYZ,GACxBhJ,EAAS,CACLE,KAAM8H,GAAsB1H,QAASD,EAAK2I,QAE9ChJ,EAAS,CAACE,KAAM8C,IAChBG,aAAa0G,WAAW,aAlBM,kDAoB9B7J,EAAS,CACLE,KAAM+H,GACN3H,QAAS6E,GAAiB,EAAD,MAtBC,0DAAX,wDCWV2E,CAAY,6BAAIvG,GAAL,IAAWwG,WAAYxG,EAAKC,eA6EoDY,SAAUb,EAAKC,UAAUQ,QAAU,EAA/G,2BAEHnD,GAAW,cAAC,EAAD,IACXC,GAAS,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,iB,SCkDrDkJ,GAlJY,SAACrL,GACxB,IAAMsL,EAAUtL,EAAM+C,MAAMC,OAAOC,GACnC,EAAgCC,oBAAS,GAAzC,mBAAOqI,EAAP,KAAiBC,EAAjB,KACMC,EAAezJ,aAAY,SAAAC,GAAK,OAAIA,EAAMwJ,gBACzCpB,EAAyBoB,EAAzBpB,MAAOnI,EAAkBuJ,EAAlBvJ,QAASC,EAASsJ,EAATtJ,MACjBuJ,EAAW1J,aAAY,SAAAC,GAAK,OAAIA,EAAMyJ,YAC9BC,EAAsDD,EAA7DvJ,MAA0ByJ,EAAmCF,EAA5CtB,QAA8ByB,EAAcH,EAAvBxJ,QAEvCb,EAAWS,cAEjBO,qBAAU,WACN,IAAMyJ,EAAe,uCAAG,gCAAAxK,EAAA,sEACCE,IAAMC,IAAI,sBADX,gBACbC,EADa,EACbA,MACDqK,EAASC,SAASC,cAAc,WAC/B1K,KAAO,kBACdwK,EAAOxL,IAAP,kDAAwDmB,GACxDqK,EAAOG,OAAQ,EACfH,EAAOI,OAAS,WACZX,GAAY,IAEhBQ,SAASI,KAAKC,YAAYN,GATN,4CAAH,sDAgBhB1B,GAASuB,GAAevB,GAASA,EAAMjK,MAAQkL,GAChDjK,EAAS,CAAEE,KAAMuI,KACjBzI,EFGgB,SAACiK,GAAD,8CAAa,WAAOjK,EAAUkD,GAAjB,qBAAAjD,EAAA,6DACrCD,EAAS,CACLE,KAAMiI,GAAuB7H,QAAS2J,IAFL,EAIJ/G,IAAbyC,EAJiB,EAI9BD,WAAaC,SAJiB,kBAMZxF,IAAMC,IAAN,sBAAyB6J,GAAW,CACrDT,QAAS,CACLC,cAAc,UAAD,OAAY9D,EAAS+D,UART,gBAM1BrJ,EAN0B,EAM1BA,KAKPL,EAAS,CACLE,KAAMkI,GAAuB9H,QAASD,IAZT,kDAejCL,EAAS,CACLE,KAAMmI,GACN/H,QAAS6E,GAAiB,EAAD,MAjBI,0DAAb,wDEHP8F,CAAahB,KAEjBjB,EAAMkC,SACFC,OAAOC,OAGRjB,GAAY,GAFZM,OAMb,CAACzK,EAAUgJ,EAAOiB,EAASC,EAAUK,IAOxC,OAAO1J,EACF,cAAC,EAAD,IACDC,EACK,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,IAE3B,sBAAKjC,UAAU,uBAAf,UACI,oBAAIA,UAAU,aAAd,2BACA,gDAAmBmK,EAAMjK,OACzB,sBAAKF,UAAU,UAAf,UACI,qBAAKA,UAAU,yBAAf,SACI,+BACI,+BACI,0CACA,8BACI,2CADJ,IAC4BmK,EAAMpC,gBAAgBG,SADlD,IAC4D,uBACxD,8CAFJ,IAEqE,KAAtCiC,EAAMpC,gBAAgBO,YAAqB6B,EAAMpC,gBAAgBO,YAAc,MAAQ,GAAI6B,EAAMpC,gBAAgBK,cAFhJ,IAGK+B,EAAMpC,gBAAgBS,KAH3B,KAGmC2B,EAAMpC,gBAAgBW,SAHzD,KAGqEyB,EAAMpC,gBAAgBa,WAH3F,IAGuG,uBACnG,4CAJJ,IAI6BuB,EAAMpC,gBAAgBe,eAElDqB,EAAMqC,UACH,eAAC,EAAD,CAAY9L,QAAQ,UAApB,gCAAkDyJ,EAAMsC,aACxD,cAAC,EAAD,CAAY/L,QAAQ,SAApB,wCAGR,+BACI,yCACA,8BACI,qDADJ,IACsCyJ,EAAMnC,iBAE3CmC,EAAMkC,OACH,eAAC,EAAD,CAAY3L,QAAQ,UAApB,6BAA+CyJ,EAAMuC,UACrD,cAAC,EAAD,CAAYhM,QAAQ,SAApB,qCAGR,+BACI,6CACA,oBAAIV,UAAU,cAAd,SAEQmK,EAAMe,WAAW3I,KAAI,SAAA6C,GAAI,OACrB,6BACI,sBAAKpF,UAAU,MAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,cAAC,IAAD,CAAMC,GAAE,mBAAcmF,EAAKrF,SAA3B,SAAsC,qBAAKM,IAAK+E,EAAK9E,MAAOH,IAAKiF,EAAKhF,KAAMJ,UAAU,cAE1F,qBAAKA,UAAU,SAAf,SACI,cAAC,IAAD,CAAMC,GAAE,mBAAcmF,EAAKrF,SAA3B,SAAuCqF,EAAKhF,SAEhD,gCAAMgF,EAAKnC,IAAX,OAAoBmC,EAAK7E,MAAzB,OAAoC6E,EAAKnC,IAAMmC,EAAK7E,aARnD6E,EAAKrF,sBAiBtC,qBAAKC,UAAU,wBAAf,SACI,qBAAKA,UAAU,OAAf,SACI,+BACI,uBAGA,+BACI,sBAAKA,UAAU,MAAf,UACI,gCAAMmK,EAAMe,WAAW7F,QAAO,SAACjE,EAAEkE,GAAH,OAASlE,EAAIkE,EAAErC,MAAK,GAAlD,YACA,oCAAOkH,EAAMI,WAAWD,QAAQ,SAEpC,sBAAKtK,UAAU,MAAf,UACI,2CACA,oCAAOmK,EAAMK,cAAcF,QAAQ,SAEvC,sBAAKtK,UAAU,MAAf,UACI,sCACA,oCAAOmK,EAAMM,IAAIH,QAAQ,SAE7B,uBACA,sBAAKtK,UAAU,MAAf,UACI,8BAAK,6CACL,8BAAK,uCAAUmK,EAAMO,WAAWJ,QAAQ,eAG9CH,EAAMkC,QACJ,6BACMhB,EACE,qCACKI,GAAY,cAAC,EAAD,CAAY/K,QAAQ,SAApB,SAA8B+K,IAC1CE,GAAc,cAAC,EAAD,IACf,cAAC,gBAAD,CAAcgB,OAAQxC,EAAMO,WAAYkC,UA3F1D,SAACC,GAC3B1L,EFWgB,SAACgJ,EAAO0C,GAAR,8CAA0B,WAAO1L,EAAUkD,GAAjB,qBAAAjD,EAAA,6DAC9CD,EAAS,CACLE,KAAMoI,GACNhI,QAAS,CAAC0I,QAAO0C,mBAHyB,EAKbxI,IAAbyC,EAL0B,EAKvCD,WAAaC,SAL0B,kBAOrBxF,IAAMwL,IAAN,sBAAyB3C,EAAMjK,IAA/B,QAA0C2M,EAAe,CAC1ElC,QAAS,CACLC,cAAc,UAAD,OAAY9D,EAAS+D,UATA,gBAOnCrJ,EAPmC,EAOnCA,KAKPL,EAAS,CACLE,KAAMqI,GAAmBjI,QAASD,IAbI,kDAgB1CL,EAAS,CACLE,KAAMsI,GACNlI,QAAS6E,GAAiB,EAAD,MAlBa,0DAA1B,wDEXPyG,CAAS5C,EAAO0C,UAsFwB,cAAC,EAAD,oBCrF1CG,GAhDY,SAAClN,GACxB,IAAMmN,EAAYnL,aAAY,SAAAC,GAAK,OAAIA,EAAMkL,aACtCjL,EAA0BiL,EAA1BjL,QAASC,EAAiBgL,EAAjBhL,MAAOiL,EAAUD,EAAVC,OACjB/L,EAAWS,cAKjB,OAJAO,qBAAU,WACNhB,EH4EiB,uCAAM,WAAOA,EAAUkD,GAAjB,qBAAAjD,EAAA,6DAC3BD,EAAS,CAACE,KAAMwI,KADW,EAEMxF,IAAbyC,EAFO,EAEpBD,WAAaC,SAFO,kBAIFxF,IAAMC,IAAI,mBAAoB,CAC/CoJ,QAAS,CACLC,cAAc,UAAD,OAAY9D,EAAS+D,UANnB,gBAIhBrJ,EAJgB,EAIhBA,KAKPL,EAAS,CACLE,KAAMyI,GAAoBrI,QAASD,IAVhB,kDAavBL,EAAS,CACLE,KAAM0I,GACNtI,QAAS6E,GAAiB,EAAD,MAfN,0DAAN,2DG3ElB,CAACnF,IAGA,gCACI,oBAAInB,UAAU,aAAd,2BACCgC,EACG,cAAC,EAAD,IACAC,EACI,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,IAC9B,wBAAOjC,UAAU,QAAjB,UACI,gCACA,+BACI,wCACA,sCACA,uCACA,sCACA,yCACA,8CAGJ,gCACCkN,EAAO3K,KAAI,SAAA4H,GAAK,OACb,+BACI,6BAAKA,EAAMjK,MACX,6BAAKiK,EAAMgD,UAAUC,UAAU,EAAG,MAClC,6BAAKjD,EAAMO,aACX,6BAAKP,EAAMkC,OAASlC,EAAMuC,OAAOU,UAAU,EAAG,IAAM,OACpD,6BAAKjD,EAAMqC,UAAYrC,EAAMsC,UAAUW,UAAU,EAAG,IAAM,OAC1D,6BACI,wBAAQ/L,KAAK,SAASrB,UAAU,kBAAkBoC,QAAS,WACvDtC,EAAMuC,QAAQC,KAAd,iBAA6B6H,EAAMjK,OADvC,yBAPCiK,EAAMjK,iBCsD5BmN,GAjFO,WAClB,MAAwBrK,mBAAS,IAAjC,mBAAO5C,EAAP,KAAakH,EAAb,KACA,EAA0BtE,mBAAS,IAAnC,mBAAOwD,EAAP,KAAcC,EAAd,KACA,EAAgCzD,mBAAS,IAAzC,mBAAO0D,EAAP,KAAiBC,EAAjB,KACA,EAA8C3D,mBAAS,IAAvD,mBAAOuE,EAAP,KAAwBC,EAAxB,KACA,EAA4CxE,oBAAS,GAArD,mBAAOsK,EAAP,KAAuBC,EAAvB,KAGOzG,EADYhF,aAAY,SAAAC,GAAK,OAAIA,EAAM8E,cACvCC,SACD0G,EAAc1L,aAAY,SAAAC,GAAK,OAAIA,EAAMyL,eACxCxL,EAAwBwL,EAAxBxL,QAASyL,EAAeD,EAAfC,KAAMxL,EAASuL,EAATvL,MAEhByL,EAAa5L,aAAY,SAAAC,GAAK,OAAIA,EAAM2L,cAC9BC,EAA6DD,EAAtExD,QAAiC0D,EAAqCF,EAA9C1L,QAA+B6L,EAAeH,EAAtBzL,MAEjDd,EAAWS,cAEjBO,qBAAU,WTmCa,IAAC2L,ESjChBL,GAIAnG,EAAQR,EAAS1G,MACjBqG,EAASK,EAASN,SAJlBrF,EAAS,CAACE,KAAMgF,IAChBlF,GT+BgB2M,ES/BKhH,EAAS5G,IT+Bf,uCAAY,WAAOiB,EAAUkD,GAAjB,qBAAAjD,EAAA,6DACnCD,EAAS,CAACE,KAAM0E,EAAsBtE,QAASqM,IADZ,EAEFzJ,IAAbyC,EAFe,EAE5BD,WAAaC,SAFe,kBAIVxF,IAAMC,IAAN,6BAAgCuM,GAAU,CAC3DnD,QAAS,CACLC,cAAc,UAAD,OAAY9D,EAAS+D,UANX,gBAIxBrJ,EAJwB,EAIxBA,KAKPL,EAAS,CACLE,KAAM2E,EAAsBvE,QAASD,IAVV,kDAa/BL,EAAS,CACLE,KAAM4E,EACNxE,QAAS6E,EAAiB,EAAD,MAfE,0DAAZ,6DS1BpB,CAACnF,EAAU2F,EAAU2G,IAcxB,OACI,8BACI,uBAAMzN,UAAU,OAAO+G,SAdT,SAACrD,GACnBA,EAAEsD,iBACCN,IAAaa,EACZK,MAAM,kDAENzG,ETuCc,SAACsM,GAAD,8CAAU,WAAOtM,EAAUkD,GAAjB,qBAAAjD,EAAA,6DAChCD,EAAS,CAACE,KAAM6E,EAAqBzE,QAASgM,IADd,EAECpJ,IAAbyC,EAFY,EAEzBD,WAAaC,SAFY,kBAILxF,IAAMwL,IAAI,qBAAsBW,EAAM,CACzD9C,QAAS,CACLC,cAAc,UAAD,OAAY9D,EAAS+D,UANd,gBAIpBrJ,EAJoB,EAIpBA,KAKRL,EAAS,CACLE,KAAM8E,EAAqB1E,QAASD,IAGxCL,EAAS,CACLE,KAAMoE,EAAqBhE,QAASD,IAExCL,EAAS,CACLE,KAAM2E,EAAsBvE,QAASD,IAEzC8C,aAAaC,QAAQ,WAAYC,KAAKC,UAAUjD,IAnBpB,kDAqB5BL,EAAS,CACLE,KAAM+E,EACN3E,QAAS6E,EAAiB,EAAD,MAvBD,0DAAV,wDSvCLyH,CAAW,CAACD,OAAQhH,EAAS5G,IAAKE,OAAMoG,QAAOE,cACrDiH,GACCJ,GAAkB,KAOtB,UACI,8BACI,oBAAIvN,UAAU,aAAd,4BAEHgC,EACG,cAAC,EAAD,IACAC,EACI,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,IAC9B,qCACK2L,GAAiB,cAAC,EAAD,IACjBC,GAAe,cAAC,EAAD,CAAYnN,QAAQ,SAApB,SAA8BmN,IAC7CP,GAAkB,cAAC,EAAD,CAAY5M,QAAQ,UAApB,8CACnB,gCACI,uBAAOyG,QAAQ,OAAf,kBACA,uBAAO9F,KAAK,OAAO0B,GAAG,OAAOS,MAAOpD,EAAMqD,SAAU,SAACC,GAAD,OAAO4D,EAAQ5D,EAAEC,OAAOH,aAEhF,gCACI,uBAAO2D,QAAQ,QAAf,mBACA,uBAAO9F,KAAK,QAAQ0B,GAAG,QAAQS,MAAOgD,EAAO/C,SAAU,SAACC,GAAD,OAAO+C,EAAS/C,EAAEC,OAAOH,aAEpF,gCACI,uBAAO2D,QAAQ,WAAf,sBACA,uBAAO9F,KAAK,WAAW0B,GAAG,WAAWiL,YAAY,qBAAqBvK,SAAU,SAACC,GAAD,OAAOiD,EAAYjD,EAAEC,OAAOH,aAEhH,gCACI,uBAAO2D,QAAQ,kBAAf,8BACA,uBAAO9F,KAAK,WAAW0B,GAAG,kBAAkBiL,YAAY,uBAAuBvK,SAAU,SAACC,GAAD,OAAO8D,EAAmB9D,EAAEC,OAAOH,aAEhI,gCACI,0BACA,wBAAQxD,UAAU,UAAUqB,KAAK,SAAjC,gC,0BC7DjB4M,GAdM,SAAC,GAAqC,IAAzBC,EAAwB,EAAnCC,UAAyBC,EAAU,mBAE/CtH,EADYhF,aAAY,SAAAC,GAAK,OAAIA,EAAM8E,cACvCC,SACP,OACI,cAAC,IAAD,6BACQsH,GADR,IAEIC,OAAQ,SAAAvO,GAAK,OAAIgH,EACb,cAACoH,EAAD,gBAAepO,IACf,cAAC,IAAD,CAAUG,GAAG,iBCZd,OAA0B,wCCmC1BqO,GA5BY,WACvB,IAAMnN,EAAWS,cACXC,EAAcC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,eACxCG,EAA4BH,EAA5BG,QAASC,EAAmBJ,EAAnBI,MAAOC,EAAYL,EAAZK,SAMvB,OAJAC,qBAAU,WACNhB,EAASD,OACV,CAACC,IAGA,sBAAKnB,UAAU,uBAAf,UACI,oBAAIA,UAAU,yBAAd,0BACCgC,EACG,cAAC,EAAD,IACAC,EACI,cAAC,EAAD,CAAYvB,QAAQ,SAApB,SAA8BuB,IAC9B,qBAAKjC,UAAU,MAAf,SAEQkC,EAASK,KAAI,SAAAxC,GAAO,OAChB,cAAC,EAAD,CAA2BA,QAASA,GAAtBA,EAAQG,cCoEvCqO,OA5Ef,WACE,IACQ5J,EADK7C,aAAY,SAACC,GAAD,OAAWA,EAAM2C,QAClCC,UAEDmC,EADYhF,aAAY,SAAAC,GAAK,OAAIA,EAAM8E,cACvCC,SAED3F,EAAWS,cAMjB,OACI,cAAC,IAAD,UACE,sBAAK5B,UAAU,iBAAf,UACE,yBAAQA,UAAU,MAAlB,UACE,8BACE,cAAC,IAAD,CAAMA,UAAU,OAAOC,GAAG,IAA1B,SAA8B,qBAAKI,IAAKmO,GAAMrO,IAAI,aAEpD,gCACE,cAAC,IAAD,CAAMH,UAAU,gBAAgBC,GAAG,YAAnC,sBACA,eAAC,IAAD,CAAMA,GAAG,QAAT,UAAiB,mBAAGD,UAAU,8BAC7B2E,EAAUQ,OAAS,EAChB,sBAAMnF,UAAU,QAAhB,SAAyB2E,EAAUQ,SACnC,gCAGH2B,EACG,sBAAK9G,UAAU,WAAf,UACE,eAAC,IAAD,CAAMC,GAAG,IAAT,UAAa,mBAAGD,UAAU,qBAA1B,OACA,qBAAIA,UAAU,mBAAd,UACE,sCAAS8G,EAAS1G,QAClB,6BAAI,cAAC,IAAD,CAAMH,GAAG,WAAT,4BACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,gBAAT,6BACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,UAAUmC,QA1BpB,WACrBjB,GbuByB,SAACA,GAC1BmD,aAAa0G,WAAW,YACxB1G,aAAa0G,WAAW,aACxB1G,aAAa0G,WAAW,mBACxB7J,EAAS,CACLE,KAAMsE,QaHY,8BAGR,cAAC,IAAD,CAAM1F,GAAG,UAAT,qBAEH6G,GAAYA,EAAS2H,SAClB,sBAAKzO,UAAU,WAAf,UACE,cAAC,IAAD,CAAMC,GAAG,SAAT,SAAkB,mBAAGD,UAAU,sBAC/B,qBAAIA,UAAU,mBAAd,UACE,6BAAI,cAAC,IAAD,CAAMC,GAAG,aAAT,yBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,eAAT,wBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,aAAT,sBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,YAAT,iCAOhB,iCACE,cAAC,IAAD,CAAOyO,KAAK,IAAIP,UAAWxM,EAAYgN,OAAK,IAC5C,cAAC,IAAD,CAAOD,KAAK,YAAYP,UAAWG,KACnC,cAAC,IAAD,CAAOI,KAAK,eAAeP,UAAWxL,IACtC,cAAC,IAAD,CAAO+L,KAAK,aAAaP,UAAWvJ,IAJtC,IAKE,cAAC,IAAD,CAAO8J,KAAK,UAAUP,UAAW5H,IACjC,cAAC,IAAD,CAAOmI,KAAK,YAAYP,UAAW9G,KACnC,cAAC,GAAD,CAAcqH,KAAK,WAAWP,UAAWd,KACzC,cAAC,IAAD,CAAOqB,KAAK,YAAYP,UAAWrG,KAEnC,cAAC,IAAD,CAAO4G,KAAK,cAAcP,UAAWnE,KACrC,cAAC,IAAD,CAAO0E,KAAK,aAAaP,UAAWhD,KACpC,cAAC,IAAD,CAAOuD,KAAK,gBAAgBP,UAAWnB,QAGzC,wBAAQhN,UAAU,aAAlB,iDC1EK4O,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,kBCARQ,GAAe,CACjBxI,WAAY,CACRC,SAAWxC,aAAagL,QAAQ,YAAc9K,KAAK+K,MAAMjL,aAAagL,QAAQ,aAAe,MAEjG5K,KAAM,CACFC,UAAYL,aAAagL,QAAQ,aAAe9K,KAAK+K,MAAMjL,aAAagL,QAAQ,cAAgB,GAChGvH,gBAAkBzD,aAAagL,QAAQ,mBAAqB9K,KAAK+K,MAAMjL,aAAagL,QAAQ,oBAAsB,GAClHtH,cAAe,WAGjBwH,GAAUC,aAAgB,CAC5B5N,YCV8B,WAAoD,IAAnDE,EAAkD,uDAA1C,CAACC,SAAS,EAAME,SAAU,IAAKwN,EAAW,uCACjF,OAAQA,EAAOrO,MACX,KAAKT,EACD,MAAO,CAACoB,SAAS,GACrB,KAAKnB,EACD,MAAO,CAACmB,SAAS,EAAOE,SAAUwN,EAAOjO,SAC7C,KAAKX,EACD,MAAO,CAACkB,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,QACI,OAAOM,IDEfoB,eCEiC,WAAqD,IAApDpB,EAAmD,uDAA3C,CAAEhC,QAAS,GAAIiC,SAAS,GAAQ0N,EAAW,uCACrF,OAAQA,EAAOrO,MACX,KAAKN,EACD,MAAO,CAAEiB,SAAS,GACtB,KAAKhB,EACD,MAAO,CAAEgB,SAAS,EAAOjC,QAAS2P,EAAOjO,SAC7C,KAAKR,EACD,MAAO,CAAEe,SAAS,EAAOC,MAAOyN,EAAOjO,SAC3C,QACI,OAAOM,IDVf2C,KEbwB,WAAqC,IAApC3C,EAAmC,uDAA3B,CAAC4C,UAAU,IAAK+K,EAAW,uCAC5D,OAAQA,EAAOrO,MACX,KAAK0C,EACD,IAAMqB,EAAOsK,EAAOjO,QACdkO,EAAY5N,EAAM4C,UAAUiL,MAAK,SAAA9L,GAAC,OAAIA,EAAE/D,UAAYqF,EAAKrF,WAC/D,OAAG4P,EACQ,6BAEA5N,GAFP,IAGI4C,UAAW5C,EAAM4C,UAAUpC,KAAI,SAAAuB,GAAC,OAAIA,EAAE/D,UAAY4P,EAAU5P,QAAUqF,EAAOtB,OAG1E,6BAAI/B,GAAX,IAAkB4C,UAAU,GAAD,mBAAM5C,EAAM4C,WAAZ,CAAuBS,MAE1D,KAAKpB,EACD,OAAO,6BAAIjC,GAAX,IAAkB4C,UAAW5C,EAAM4C,UAAUkL,QAAO,SAAA/L,GAAC,OAAIA,EAAE/D,UAAY2P,EAAOjO,aAClF,KAAKwC,EACD,OAAO,6BAAIlC,GAAX,IAAkBgG,gBAAiB2H,EAAOjO,UAC9C,KAAKyC,EACD,OAAO,6BAAInC,GAAX,IAAkBiG,cAAe0H,EAAOjO,UAC5C,KAAK0C,EACD,OAAO,6BAAIpC,GAAX,IAAkB4C,UAAW,KACjC,QACI,OAAO5C,IFTf8E,WGV6B,WAAyB,IAAxB9E,EAAuB,uDAAf,GAAI2N,EAAW,uCACrD,OAAQA,EAAOrO,MACX,KAAKmE,EACD,MAAO,CAACxD,SAAS,GACrB,KAAKyD,EACD,MAAO,CAACzD,SAAS,EAAO8E,SAAU4I,EAAOjO,SAC7C,KAAKiE,EACD,MAAO,CAAC1D,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,KAAKkE,EACD,MAAO,GACX,QACI,OAAO5D,IHAf0F,aGI+B,WAAyB,IAAxB1F,EAAuB,uDAAf,GAAI2N,EAAW,uCACvD,OAAQA,EAAOrO,MACX,KAAKuE,EACD,MAAO,CAAC5D,SAAS,GACrB,KAAK6D,EACD,MAAO,CAAC7D,SAAS,EAAO8E,SAAU4I,EAAOjO,SAC7C,KAAKqE,EACD,MAAO,CAAC9D,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,QACI,OAAOM,IHZfyL,YGiB8B,WAAsC,IAArCzL,EAAoC,uDAA5B,CAACC,SAAS,GAAO0N,EAAW,uCACnE,OAAQA,EAAOrO,MACX,KAAK0E,EACD,MAAO,CAAC/D,SAAS,GACrB,KAAKgE,EACD,MAAO,CAAChE,SAAS,EAAOyL,KAAMiC,EAAOjO,SACzC,KAAKwE,EACD,MAAO,CAACjE,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,QACI,OAAOM,IHzBf2L,WG6B6B,WAAyB,IAAxB3L,EAAuB,uDAAf,GAAI2N,EAAW,uCACrD,OAAQA,EAAOrO,MACX,KAAK6E,EACD,MAAO,CAAClE,SAAS,GACrB,KAAKmE,EACD,MAAO,CAACnE,SAAS,EAAOkI,SAAS,GACrC,KAAK9D,EACD,MAAO,CAACpE,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,KAAK4E,EAED,OADAyE,QAAQC,IAAI1E,GACL,GACX,QACI,OAAOtE,IHxCfkI,YIb8B,WAAyB,IAAxBlI,EAAuB,uDAAf,GAAI2N,EAAW,uCACtD,OAAQA,EAAOrO,MACX,KAAK6H,GACD,MAAO,CAAClH,SAAS,GACrB,KAAKmH,GACD,MAAO,CAACnH,SAAS,EAAOkI,SAAS,EAAMC,MAAOuF,EAAOjO,SACzD,KAAK2H,GACD,MAAO,CAACpH,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,KAAK4H,GACD,MAAO,GACX,QACI,OAAOtH,IJGfwJ,aIC+B,WAAsC,IAArCxJ,EAAoC,uDAA5B,CAACC,SAAS,GAAO0N,EAAW,uCACpE,OAAQA,EAAOrO,MACX,KAAKiI,GACD,MAAO,CAACtH,SAAS,GACrB,KAAKuH,GACD,MAAO,CAACvH,SAAS,EAAOmI,MAAOuF,EAAOjO,SAC1C,KAAK+H,GACD,MAAO,CAACxH,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,QACI,OAAOM,IJTfyJ,SIa2B,WAAyB,IAAxBzJ,EAAuB,uDAAf,GAAI2N,EAAW,uCACnD,OAAQA,EAAOrO,MACX,KAAKoI,GACD,MAAO,CAACzH,SAAS,GACrB,KAAK0H,GACD,MAAO,CAAC1H,SAAS,EAAOkI,SAAS,GACrC,KAAKP,GACD,MAAO,CAAC3H,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,KAAKmI,GACD,MAAO,GACX,QACI,OAAO7H,IJvBfkL,UI2B4B,WAAmC,IAAlClL,EAAiC,uDAAzB,CAACmL,OAAQ,IAAKwC,EAAW,uCAC9D,OAAQA,EAAOrO,MACX,KAAKwI,GACD,MAAO,CAAC7H,SAAS,GACrB,KAAK8H,GACD,MAAO,CAAC9H,SAAS,EAAOkL,OAAQwC,EAAOjO,SAC3C,KAAKsI,GACD,MAAO,CAAC/H,SAAS,EAAOC,MAAOyN,EAAOjO,SAC1C,QACI,OAAOM,MJhCb+N,GAAkBxD,OAAOyD,sCAAwCC,KAKxDC,GAFDC,aAAYV,GAASH,GAAcS,GAAgBK,aAAgBC,QK3BjFC,IAAShC,OACL,cAAC,IAAD,CAAU4B,MAAOA,GAAjB,SACE,cAAC,IAAMK,WAAP,UACE,cAAC,GAAD,QAGNxE,SAASyE,eAAe,SAM1B3B,O","file":"static/js/main.cb50711c.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Product = (props) => {\r\n    const {product} = props;\r\n    return (\r\n        <div key={product._id} className=\"card col-4\">\r\n            <Link to={`/product/${product._id}`}>\r\n                <img alt={product.name} className=\"full-width\" src={product.image}/>\r\n                <div className=\"card-body\">\r\n                    <div className=\"product-caption\">{product.name}<br/>\r\n                       ${product.price}\r\n                    </div>\r\n                    {/*<Ratings rating={product.rating} numReviews={product.numReviews}/>*/}\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Product;","import React from 'react';\r\n\r\nconst LoadingBox = () => {\r\n    return (\r\n        <div className=\"loading\">\r\n            <i className=\"fa fa-spinner fa-spin\"/>Loading...\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadingBox;","import React from 'react';\r\n\r\nconst MessageBox = (props) => {\r\n    return (\r\n        <div className={`alert alert-${props.variant || 'info'}`}>\r\n            {props.children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessageBox;","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';","import {\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS\r\n} from \"../constants/productConstants\";\r\nimport Axios from \"axios\";\r\n\r\nexport const listProducts = () => async (dispatch) => {\r\n    dispatch({\r\n        type: PRODUCT_LIST_REQUEST\r\n    });\r\n\r\n    try{\r\n        const { data } = await Axios.get('/api/products');\r\n        dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\r\n    }catch (error){\r\n        dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\r\n    }\r\n}\r\n\r\nexport const detailsProduct = (productId) => async (dispatch) => {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n    try {\r\n        const { data } = await Axios.get(`/api/products/${productId}`);\r\n        dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_FAIL,\r\n            payload:\r\n                error.response && error.response.data.message\r\n                    ? error.response.data.message\r\n                    : error.message\r\n        });\r\n    }\r\n};","import React, {useEffect} from 'react';\r\nimport Product from \"../components/Product\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listProducts} from \"../actions/productActions\";\r\n\r\nconst HomeScreen = (props) => {\r\n    const dispatch = useDispatch();\r\n    const productList = useSelector(state => state.productList);\r\n    const {loading, error, products} = productList;\r\n\r\n    useEffect(() => {\r\n        dispatch(listProducts());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div className=\"home-screen\">\r\n            <div className=\"hero-container\">\r\n                <div className=\"layer\">\r\n                    <p>Natural and healthy food that does not compromise on&nbsp;flavour</p>\r\n                    <button className=\"primary\" onClick={() => {\r\n                        props.history.push(`/products`);\r\n                    }}>Our Products</button>\r\n                </div>\r\n            </div>\r\n            <h1 className=\"text-center page-title\">Best Seller</h1>\r\n            {loading ?\r\n                <LoadingBox/> :\r\n                error ?\r\n                    <MessageBox variant=\"danger\">{error}</MessageBox> :\r\n                    <div className=\"row\">\r\n                        {\r\n                            products.map(product =>\r\n                                (product.numReviews >= 20 && product.rating > 4 ?\r\n                                        <Product key={product._id} product={product}/> :\r\n                                        <div key={product._id}/>\r\n                            ))\r\n                        }\r\n                    </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomeScreen;","import React from 'react';\r\n\r\nconst Ratings = (props) => {\r\n    const {rating, numReviews} = props;\r\n    return (\r\n        <div className=\"rating\">\r\n            <span>\r\n                <i className={\r\n                    rating >= 1 ?\r\n                        \"fa fa-star\" :\r\n                        rating >= 0.5 ?\r\n                            \"fa fa-star-half-o\" :\r\n                            \"fa fa-star-o\"}/>\r\n            </span>\r\n            <span>\r\n                <i className={\r\n                    rating >= 2 ?\r\n                        \"fa fa-star\" :\r\n                        rating >= 1.5 ?\r\n                            \"fa fa-star-half-o\" :\r\n                            \"fa fa-star-o\"}/>\r\n            </span>\r\n            <span>\r\n                <i className={\r\n                    rating >= 3 ?\r\n                        \"fa fa-star\" :\r\n                        rating >= 2.5 ?\r\n                            \"fa fa-star-half-o\" :\r\n                            \"fa fa-star-o\"}/>\r\n            </span>\r\n            <span>\r\n                <i className={\r\n                    rating >= 4 ?\r\n                        \"fa fa-star\" :\r\n                        rating >= 3.5 ?\r\n                            \"fa fa-star-half-o\" :\r\n                            \"fa fa-star-o\"}/>\r\n            </span>\r\n            <span>\r\n                <i className={\r\n                    rating >= 5 ?\r\n                        \"fa fa-star\" :\r\n                        rating >= 4.5 ?\r\n                            \"fa fa-star-half-o\" :\r\n                            \"fa fa-star-o\"}/>\r\n            </span>\r\n            <span>\r\n                {numReviews + ' reviews'}\r\n            </span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Ratings;","import React, {useEffect, useState} from 'react';\r\nimport Ratings from \"../components/Ratings\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {detailsProduct} from \"../actions/productActions\";\r\n\r\nconst ProductScreen = (props) => {\r\n    const dispatch = useDispatch();\r\n    const productId = props.match.params.id;\r\n    const [qty, setQty] = useState(1);\r\n    const productDetails = useSelector((state) => state.productDetails);\r\n    const { loading, error, product } = productDetails;\r\n\r\n    useEffect(() => {\r\n        dispatch(detailsProduct(productId));\r\n    }, [dispatch, productId]);\r\n\r\n    const addToCartHandler = () => {\r\n        props.history.push(`/cart/${productId}?qty=${qty}`);\r\n    }\r\n\r\n    return (\r\n        <div className=\"product-screen\">\r\n            {loading ?\r\n                <LoadingBox/> :\r\n                error ?\r\n                    <MessageBox variant=\"danger\">{error}</MessageBox> :\r\n                    <div>\r\n                        <div className=\"row top\">\r\n                            <div className=\"col-1 col-right-margin\">\r\n                                <img className=\"cover\" src={product.image} alt={product.name}/>\r\n                            </div>\r\n                            <div className=\"col-1 col-right-margin\">\r\n                                <ul>\r\n                                    <li>\r\n                                        <h1>{product.name}</h1>\r\n                                    </li>\r\n                                    <li>\r\n                                        <Ratings rating={product.rating} numReviews={product.numReviews}/>\r\n                                    </li>\r\n                                    <li>\r\n                                        {product.description}\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div className=\"col-1\">\r\n                                <div className=\"card\">\r\n                                    <ul>\r\n                                        <li>\r\n                                            <div className=\"row\">\r\n                                                <div>Price</div>\r\n                                                <div className=\"price\">${product.price}</div>\r\n                                            </div>\r\n                                        </li>\r\n                                        <li>\r\n                                            <div className=\"row\">\r\n                                                <div>Status</div>\r\n                                                <div className=\"price\">\r\n                                                    {product.countInStock > 0 ?\r\n                                                        <span className=\"success\" >In Stock</span> :\r\n                                                        <span className=\"danger\" >Out of Stock</span>}\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                        {\r\n                                            product.countInStock > 0 ?\r\n                                                <li>\r\n                                                    <div className=\"row\">\r\n                                                        <div>Quantity</div>\r\n                                                        <div>\r\n                                                            <select value={qty} onChange={e => setQty(e.target.value)}>\r\n                                                                {\r\n                                                                    [...Array(product.countInStock).keys()].map(x => (\r\n                                                                        <option key={x + 1}\r\n                                                                                value={x + 1}>{x + 1}</option>\r\n                                                                    ))\r\n                                                                }\r\n                                                            </select>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </li> :\r\n                                                <></>\r\n                                        }\r\n                                        {\r\n                                            product.countInStock > 0 ?\r\n                                                <li>\r\n                                                    <button onClick={addToCartHandler} className=\"primary block\">Add to Cart</button>\r\n                                                </li> :\r\n                                                <></>\r\n                                        }\r\n\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductScreen;","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = \"CART_SAVE_SHIPPING_ADDRESS\";\r\nexport const CART_SAVE_PAYMENT_METHOD = \"CART_SAVE_PAYMENT_METHOD\";\r\nexport const CART_EMPTY = 'CART_EMPTY';","import Axios from \"axios\";\r\nimport {\r\n    CART_ADD_ITEM,\r\n    CART_REMOVE_ITEM,\r\n    CART_SAVE_PAYMENT_METHOD,\r\n    CART_SAVE_SHIPPING_ADDRESS\r\n} from \"../constants/cartConstants\";\r\n\r\nexport const addToCart = (productId, qty) => async(dispatch, getState) => {\r\n    const {data} = await Axios.get(`/api/products/${productId}`);\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            name: data.name,\r\n            image: data.image,\r\n            price: data.price,\r\n            countInStock: data.countInStock,\r\n            product: data._id,\r\n            qty,\r\n        }\r\n    });\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const removeFromCart = (productId) => (dispatch, getState) => {\r\n    dispatch({\r\n        type: CART_REMOVE_ITEM,\r\n        payload: productId\r\n    });\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n    dispatch({\r\n        type: CART_SAVE_SHIPPING_ADDRESS,\r\n        payload: data\r\n    });\r\n\r\n    localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n}\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n    dispatch({\r\n        type: CART_SAVE_PAYMENT_METHOD,\r\n        payload: data\r\n    });\r\n}","import React, {useEffect} from 'react';\r\nimport {addToCart, removeFromCart} from \"../actions/cartActions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst CartScreen = (props) => {\r\n    const productId = props.match.params.id;\r\n    const qty = props.location.search ?\r\n        Number(props.location.search.split('=')[1]) :\r\n        1;\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const {cartItems} = cart;\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if(productId){\r\n            dispatch(addToCart(productId, qty));\r\n        }\r\n    }, [dispatch, productId, qty]);\r\n\r\n    const removeFromCartHandler = (productId) => {\r\n        dispatch(removeFromCart(productId))\r\n    }\r\n\r\n    function checkoutHandler() {\r\n        //redirect to signin screen\r\n        props.history.push('/signin?redirect=shipping');\r\n    }\r\n\r\n    return (\r\n        <div className=\"row top cart-screen\">\r\n            <h1 className=\"full-width page-title\">Your cart</h1>\r\n            <div className=\"col-2 col-right-margin\">\r\n                {\r\n                    cartItems.length === 0 ?\r\n                        <MessageBox>\r\n                            Your cart is empty.\r\n                            <Link to=\"/\"> Go Shopping</Link>\r\n                        </MessageBox> :\r\n                        <ul>\r\n                            {\r\n                                cartItems.map(item => (\r\n                                    <li key={item.product}>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"cart-thumbnail\">\r\n                                                <Link to={`/product/${item.product}`}><img src={item.image} alt={item.name} className=\"cover\"/></Link>\r\n                                            </div>\r\n                                            <div className=\"min-300px\">\r\n                                                <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                            </div>\r\n                                            <div className=\"min-150px\">\r\n                                                <div>\r\n                                                    <select value={item.qty} onChange={e => dispatch(addToCart(item.product, Number(e.target.value)))}>\r\n                                                        {\r\n                                                            [...Array(item.countInStock).keys()].map(x => (\r\n                                                                <option key={x + 1}\r\n                                                                        value={x + 1}>{x + 1}</option>\r\n                                                            ))\r\n                                                        }\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div>${item.price}</div>\r\n                                                <div>\r\n                                                    <button type=\"button\" className=\"button-icon\" onClick={() => removeFromCartHandler(item.product)}><i className=\"fa fa-trash fa-lg\"/></button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                }\r\n            </div>\r\n            <div className=\"col-1 col-left-margin\">\r\n                <div className=\"card\">\r\n                    <ul>\r\n                        <li>\r\n                            <h1>\r\n                                {cartItems.reduce((a, c) => a + c.qty, 0)} items <br/>\r\n                                Subtotal: ${cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n                            </h1>\r\n                        </li>\r\n                        <li>\r\n                            {\r\n                                cartItems.length === 0 ?\r\n                                    <></> :\r\n                                    <button type=\"button\" onClick={checkoutHandler} className=\"primary block\" disabled={cartItems.length === 0}>Proceed to Checkout</button>\r\n                            }\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                {\r\n                    cartItems.length === 0 ? <></> :  <Link to=\"/products\"> Continue Shopping</Link>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartScreen;","export const USER_SIGNIN_REQUEST = \"USER_SIGNIN_REQUEST\";\r\nexport const USER_SIGNIN_SUCCESS = \"USER_SIGNIN_SUCCESS\";\r\nexport const USER_SIGNIN_FAIL = \"USER_SIGNIN_FAIL\";\r\nexport const USER_SIGNOUT = \"USER_SIGNOUT\";\r\n\r\nexport const USER_REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const USER_REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\nexport const USER_REGISTER_FAIL = \"USER_REGISTER_FAIL\";\r\n\r\nexport const USER_DETAILS_REQUEST = \"USER_DETAILS_REQUEST\";\r\nexport const USER_DETAILS_SUCCESS = \"USER_DETAILS_SUCCESS\";\r\nexport const USER_DETAILS_FAIL = \"USER_DETAILS_FAIL\";\r\n\r\nexport const USER_UPDATE_REQUEST = \"USER_UPDATE_REQUEST\";\r\nexport const USER_UPDATE_SUCCESS = \"USER_UPDATE_SUCCESS\";\r\nexport const USER_UPDATE_FAIL = \"USER_UPDATE_FAIL\";\r\nexport const USER_UPDATE_RESET = \"USER_UPDATE_RESET\";","import {\r\n    USER_DETAILS_FAIL,\r\n    USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS,\r\n    USER_REGISTER_FAIL,\r\n    USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS,\r\n    USER_SIGNIN_FAIL,\r\n    USER_SIGNIN_REQUEST,\r\n    USER_SIGNIN_SUCCESS,\r\n    USER_SIGNOUT, USER_UPDATE_FAIL, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS\r\n} from \"../constants/userConstants\";\r\nimport Axios from \"axios\";\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n    dispatch({type: USER_REGISTER_REQUEST, payload:{email, password}});\r\n    try{\r\n        const {data} = await Axios.post('/api/users/register', {name, email, password});\r\n        dispatch({\r\n            type: USER_REGISTER_SUCCESS,\r\n            payload: data\r\n        });\r\n        dispatch({\r\n            type: USER_SIGNIN_SUCCESS,\r\n            payload: data\r\n        });\r\n        localStorage.setItem('userInfo', JSON.stringify(data));\r\n    }catch (error){\r\n        dispatch({\r\n            type: USER_REGISTER_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        })\r\n    }\r\n};\r\n\r\nexport const signin = (email, password) => async (dispatch) => {\r\n    dispatch({type: USER_SIGNIN_REQUEST, payload:{email, password}});\r\n    try{\r\n        const {data} = await Axios.post('/api/users/signin', {email, password});\r\n        dispatch({\r\n            type: USER_SIGNIN_SUCCESS,\r\n            payload: data\r\n        });\r\n        localStorage.setItem('userInfo', JSON.stringify(data));\r\n    }catch (error){\r\n        dispatch({\r\n            type: USER_SIGNIN_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        })\r\n    }\r\n};\r\n\r\nexport const signout = () => (dispatch) => {\r\n    localStorage.removeItem('userInfo');\r\n    localStorage.removeItem('cartItems');\r\n    localStorage.removeItem('shippingAddress');\r\n    dispatch({\r\n        type: USER_SIGNOUT\r\n    });\r\n};\r\n\r\nexport const detailsUser = (userId) => async (dispatch, getState) => {\r\n    dispatch({type: USER_DETAILS_REQUEST, payload: userId});\r\n    const {userSignin: {userInfo}} = getState();\r\n    try{\r\n        const {data} = await Axios.get(`/api/users/profile/${userId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        dispatch({\r\n            type: USER_DETAILS_SUCCESS, payload: data\r\n        });\r\n    }catch (error){\r\n        dispatch({\r\n            type: USER_DETAILS_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        });\r\n    }\r\n}\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n    dispatch({type: USER_UPDATE_REQUEST, payload: user});\r\n    const {userSignin: {userInfo}} = getState();\r\n    try{\r\n        const { data } = await Axios.put('/api/users/profile', user, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        dispatch({\r\n            type: USER_UPDATE_SUCCESS, payload: data\r\n        });\r\n        //for updating user name at the nav bar\r\n        dispatch({\r\n            type: USER_SIGNIN_SUCCESS, payload: data\r\n        });\r\n        dispatch({\r\n            type: USER_DETAILS_SUCCESS, payload: data\r\n        });\r\n        localStorage.setItem('userInfo', JSON.stringify(data));\r\n    }catch (error){\r\n        dispatch({\r\n            type: USER_UPDATE_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        });\r\n    }\r\n}\r\n\r\nconst generateErrorMsg = (error) => error.response && error.response.data.message ? error.response.data.message : error.message;\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {signin} from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nconst SigninScreen = (props) => {\r\n    const [email, setEmail] = useState();\r\n    const [password, setPassword] = useState('');\r\n\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const {userInfo, loading, error} = userSignin;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(signin(email, password));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(userInfo){\r\n            //redirect to shipping screen or homepage\r\n            props.history.push(redirect);\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1 className=\"page-title\">Sign In</h1>\r\n                </div>\r\n                {loading && <LoadingBox/>}\r\n                {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                <div>\r\n                    <label htmlFor=\"email\">Email Address</label>\r\n                    <input type=\"email\" id=\"email\" required onChange={e => setEmail(e.target.value)}/>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" id=\"password\" required onChange={e => setPassword(e.target.value)}/>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <button className=\"primary\" type=\"submit\">Sign In</button>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <div>\r\n                        New customer? {'  '} <Link to={`/register?redirect=${redirect}`}>Register here.</Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SigninScreen;","import React, {useEffect, useState} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {register} from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nconst RegisterScreen = (props) => {\r\n    const [name, setName] = useState();\r\n    const [email, setEmail] = useState();\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const userRegister = useSelector(state => state.userRegister);\r\n    const {userInfo, loading, error} = userRegister;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const errorMsg = error && error.includes(\"E11000 duplicate key error collection\") ? \"This email address is already registered.\" : \"\";\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        if(password !== confirmPassword) {\r\n            alert(\"Password and confirm password does not match.\")\r\n        }else{\r\n            dispatch(register(name, email, password));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(userInfo){\r\n            //redirect to shipping screen or homepage\r\n            props.history.push(redirect);\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1 className=\"page-title\">Create Account</h1>\r\n                </div>\r\n                {loading && <LoadingBox/>}\r\n                {error && <MessageBox variant=\"danger\">{errorMsg}</MessageBox>}\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input type=\"text\" id=\"name\" required onChange={e => setName(e.target.value)}/>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"email\">Email Address</label>\r\n                    <input type=\"email\" id=\"email\" required onChange={e => setEmail(e.target.value)}/>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" id=\"password\" required onChange={e => setPassword(e.target.value)}/>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                    <input type=\"password\" id=\"confirmPassword\" required onChange={e => setConfirmPassword(e.target.value)}/>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <button className=\"primary\" type=\"submit\">Register</button>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <div>\r\n                        Already have an account? {'  '} <Link to={`/signin?redirect=${redirect}`}>Sign in here.</Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterScreen;","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {savePaymentMethod, saveShippingAddress} from \"../actions/cartActions.js\";\r\n\r\nconst ShippingScreen = (props) => {\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const {userInfo} = userSignin;\r\n    const cart = useSelector(state => state.cart);\r\n    const {shippingAddress} = cart;\r\n\r\n    const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n    if(!userInfo) {\r\n        props.history.push('/signin');\r\n    }\r\n\r\n    const [fullName, setFullName] = useState(shippingAddress.fullName);\r\n    const [streetAddress, setStreetAddress] = useState(shippingAddress.streetAddress);\r\n    const [suiteNumber, setSuiteNumber] = useState(shippingAddress.suiteNumber);\r\n    const [city, setCity] = useState(shippingAddress.city);\r\n    const [province, setProvince] = useState(shippingAddress.province);\r\n    const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n    const [phoneNumber, setPhoneNumber] = useState(shippingAddress.phoneNumber);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(saveShippingAddress({fullName, streetAddress, suiteNumber, city, province, postalCode, phoneNumber}));\r\n        dispatch(savePaymentMethod(paymentMethod));\r\n        props.history.push('/placeorder');\r\n        //props.history.push('/payment');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/*<CheckoutSteps step1/>*/}\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <fieldset>\r\n                    <legend className=\"page-title\">Shipping Address</legend>\r\n                    <div>\r\n                        <label htmlFor=\"fullName\">Full Name</label>\r\n                        <input type=\"text\" id=\"fullName\" value={fullName} required onChange={e => setFullName(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"streetAddress\">Street Address</label>\r\n                        <input type=\"text\" id=\"streetAddress\" value={streetAddress} required onChange={e => setStreetAddress(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"suiteNumber\">Suite/Apartment Number</label>\r\n                        <input type=\"text\" id=\"suiteNumber\" value={suiteNumber} onChange={e => setSuiteNumber(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"city\">City</label>\r\n                        <input type=\"text\" id=\"city\" value={city} required onChange={e => setCity(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"province\">Province</label>\r\n                        <input type=\"text\" id=\"province\" value={province} required onChange={e => setProvince(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"postalCode\">Postal Code</label>\r\n                        <input type=\"text\" id=\"postalCode\" value={postalCode} required onChange={e => setPostalCode(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"phoneNumber\">Phone Number</label>\r\n                        <input type=\"text\" id=\"phoneNumber\" value={phoneNumber} onChange={e => setPhoneNumber(e.target.value)}/>\r\n                    </div>\r\n                </fieldset>\r\n\r\n                {/*<div>\r\n                    <label/>\r\n                    <button className=\"primary\" type=\"submit\">Continue</button>\r\n                </div>*/}\r\n\r\n                <fieldset>\r\n                    <legend className=\"page-title\">Payment Method</legend>\r\n                    <div className=\"radio-wrapper\">\r\n                        <div className=\"radio\">\r\n                            <input\r\n                                type=\"radio\"\r\n                                id=\"paypal\"\r\n                                value=\"PayPal\"\r\n                                name=\"paymentMethod\"\r\n                                required\r\n                                checked\r\n                                onChange={e => setPaymentMethod(e.target.value)}\r\n                            />\r\n                            <label htmlFor=\"paypal\">PayPal</label>\r\n                        </div>\r\n                        <div className=\"radio\">\r\n                            <input\r\n                                type=\"radio\"\r\n                                id=\"stripe\"\r\n                                value=\"Stripe\"\r\n                                name=\"paymentMethod\"\r\n                                required\r\n                                onChange={e => setPaymentMethod(e.target.value)}\r\n                            />\r\n                            <label htmlFor=\"stripe\">Stripe</label>\r\n                        </div>\r\n                    </div>\r\n                </fieldset>\r\n                <div>\r\n                    <label/>\r\n                    <button className=\"primary\" type=\"submit\">Continue</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShippingScreen;","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n","import {\r\n    ORDER_CREATE_FAIL,\r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS, ORDER_LIST_FAIL,\r\n    ORDER_LIST_REQUEST,\r\n    ORDER_LIST_SUCCESS,\r\n    ORDER_PAY_FAIL,\r\n    ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS\r\n} from \"../constants/orderConstants\";\r\nimport Axios from \"axios\";\r\nimport {CART_EMPTY} from \"../constants/cartConstants\";\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n    dispatch({\r\n        type: ORDER_CREATE_REQUEST, payload: order\r\n    });\r\n    //getState returns all states in Redux store. Only need userInfo in userSignin\r\n    const {userSignin: {userInfo}} = getState();\r\n    try{\r\n        //order: request payload\r\n        const {data} = await Axios.post('/api/orders', order, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        console.log(\"order: \" , order);\r\n        dispatch({\r\n            type: ORDER_CREATE_SUCCESS, payload: data.order\r\n        });\r\n        dispatch({type: CART_EMPTY});\r\n        localStorage.removeItem('cartItems');\r\n    }catch (error){\r\n        dispatch({\r\n            type: ORDER_CREATE_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        });\r\n    }\r\n};\r\n\r\nexport const detailsOrder = (orderId) => async (dispatch, getState) => {\r\n    dispatch({\r\n        type: ORDER_DETAILS_REQUEST, payload: orderId\r\n    });\r\n    const {userSignin: {userInfo}} = getState();\r\n    try{\r\n        const {data} = await Axios.get(`/api/orders/${orderId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        dispatch({\r\n            type: ORDER_DETAILS_SUCCESS, payload: data\r\n        });\r\n    }catch (error){\r\n        dispatch({\r\n            type: ORDER_DETAILS_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        });\r\n    }\r\n}\r\n\r\nexport const payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n    dispatch({\r\n        type: ORDER_PAY_REQUEST,\r\n        payload: {order, paymentResult}\r\n    });\r\n    const {userSignin: {userInfo}} = getState();\r\n    try{\r\n        const {data} = await Axios.put(`/api/orders/${order._id}/pay`, paymentResult, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        dispatch({\r\n            type: ORDER_PAY_SUCCESS, payload: data\r\n        });\r\n    }catch (error){\r\n        dispatch({\r\n            type: ORDER_PAY_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        });\r\n    }\r\n};\r\n\r\nexport const listOrder = () => async (dispatch, getState) => {\r\n    dispatch({type: ORDER_LIST_REQUEST});\r\n    const {userSignin: {userInfo}} = getState();\r\n    try{\r\n        const {data} = await Axios.get('/api/orders/list', {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        dispatch({\r\n            type: ORDER_LIST_SUCCESS, payload: data\r\n        });\r\n    }catch (error){\r\n        dispatch({\r\n            type: ORDER_LIST_FAIL,\r\n            payload: generateErrorMsg(error)\r\n        });\r\n    }\r\n}\r\n\r\nconst generateErrorMsg = (error) => error.response && error.response.data.message ? error.response.data.message : error.message;","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {createOrder} from \"../actions/orderActions\";\r\nimport {ORDER_CREATE_RESET} from \"../constants/orderConstants\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nconst PlaceOrderScreen = (props) => {\r\n    const cart = useSelector(state => state.cart);\r\n    if(!cart.paymentMethod) {\r\n        props.history.push('/payment');\r\n    }\r\n\r\n    const orderCreate = useSelector(state => state.orderCreate);\r\n    const {loading, success, error, order} = orderCreate;\r\n    const toPrice = (num) => Number(num.toFixed(2));\r\n    cart.itemsPrice = toPrice(cart.cartItems.reduce((a,c) => a + c.qty * c.price, 0));\r\n    cart.shippingPrice = cart.itemsPrice > 50 ? toPrice(0) : toPrice(7);\r\n    cart.tax = toPrice(0.05 * cart.itemsPrice);\r\n    cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.tax;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const placeOrderHandler = () => {\r\n        //deconstruct cart and replace cartItems with orderItems\r\n        dispatch(createOrder({...cart, orderItems: cart.cartItems}));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(success){\r\n            props.history.push(`/order/${order._id}`);\r\n            dispatch({type: ORDER_CREATE_RESET});\r\n        }\r\n    }, [dispatch, order, props.history, success])\r\n\r\n    return (\r\n        <div className=\"place-order-screen\">\r\n            {/*<CheckoutSteps step1 step2 step3/>*/}\r\n            <div className=\"row top\">\r\n                <h1 className=\"page-title full-width\">Order Summary</h1>\r\n                <div className=\"col-2 col-right-margin\">\r\n                    <ul>\r\n                        <li>\r\n                            <h2>Shipping</h2>\r\n                            <p>\r\n                                <strong>Name:</strong> {cart.shippingAddress.fullName} <br/>\r\n                                <strong>Address:</strong> {cart.shippingAddress.suiteNumber !== '' ? cart.shippingAddress.suiteNumber + \"-\" : \"\"} {cart.shippingAddress.streetAddress},\r\n                                {cart.shippingAddress.city}, {cart.shippingAddress.province}, {cart.shippingAddress.postalCode} <br/>\r\n                                <strong>Phone:</strong> {cart.shippingAddress.phoneNumber}\r\n                            </p>\r\n                        </li>\r\n                        <li>\r\n                            <h2>Payment</h2>\r\n                            <p>\r\n                                <strong>Payment Method:</strong> {cart.paymentMethod}\r\n                            </p>\r\n                        </li>\r\n                        <li>\r\n                            <h2>Order Items</h2>\r\n                            <ul className=\"order-items\">\r\n                                {\r\n                                    cart.cartItems.map(item => (\r\n                                        <li key={item.product}>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"cart-thumbnail\">\r\n                                                    <Link to={`/product/${item.product}`}><img src={item.image} alt={item.name} className=\"cover\"/></Link>\r\n                                                </div>\r\n                                                <div className=\"min-30\">\r\n                                                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                                </div>\r\n                                                <div>{item.qty} x ${item.price} = ${item.qty * item.price}</div>\r\n                                            </div>\r\n                                        </li>\r\n                                    ))\r\n                                }\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1 col-left-margin\">\r\n                    <div className=\"card\">\r\n                        <ul>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>{cart.cartItems.reduce((a,c) => a + c.qty, 0)} Items</div>\r\n                                    <div>${cart.itemsPrice.toFixed(2)}</div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div>Shipping</div>\r\n                                    <div>${cart.shippingPrice.toFixed(2)}</div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div>Tax</div>\r\n                                    <div>${cart.tax.toFixed(2)}</div>\r\n                                </div>\r\n                                <hr/>\r\n                                <div className=\"row\">\r\n                                    <div><strong>Total</strong></div>\r\n                                    <div><strong>${cart.totalPrice.toFixed(2)}</strong></div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <button className=\"primary block\" type=\"button\" onClick={placeOrderHandler} disabled={cart.cartItems.length <= 0}>Place Order</button>\r\n                            </li>\r\n                            {loading && <LoadingBox/>}\r\n                            {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PlaceOrderScreen;","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {detailsOrder, payOrder} from \"../actions/orderActions\";\r\nimport Axios from \"axios\";\r\nimport {PayPalButton} from \"react-paypal-button-v2\";\r\nimport {ORDER_PAY_RESET} from \"../constants/orderConstants\";\r\n\r\nconst OrderDetailsScreen = (props) => {\r\n    const orderId = props.match.params.id;\r\n    const [sdkReady, setSdkReady] = useState(false);\r\n    const orderDetails = useSelector(state => state.orderDetails);\r\n    const {order, loading, error} = orderDetails;\r\n    const orderPay = useSelector(state => state.orderPay);\r\n    const {error: errorPay, success: successPay, loading: loadingPay} = orderPay;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const addPayPalScript = async () => {\r\n            const {data} = await Axios.get('/api/config/paypal');\r\n            const script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n            script.async = true;\r\n            script.onload = () => {\r\n                setSdkReady(true);\r\n            };\r\n            document.body.appendChild(script);\r\n        };\r\n\r\n        //load order for one of the following cases\r\n        //- it's not yet loaded\r\n        //- successPay is true, reload the order with updated status\r\n        //- order id doesn't match the id in the url\r\n        if (!order || successPay || (order && order._id !== orderId)) {\r\n            dispatch({ type: ORDER_PAY_RESET });\r\n            dispatch(detailsOrder(orderId));\r\n        } else {\r\n            if (!order.isPaid) {\r\n                if (!window.paypal) {\r\n                    addPayPalScript();\r\n                } else {\r\n                    setSdkReady(true);\r\n                }\r\n            }\r\n        }\r\n    }, [dispatch, order, orderId, sdkReady, successPay]);\r\n\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        dispatch(payOrder(order, paymentResult));\r\n    }\r\n\r\n    return loading ?\r\n        (<LoadingBox/>) :\r\n        error ?\r\n            (<MessageBox variant=\"danger\">{error}</MessageBox>) :\r\n            (\r\n                <div className=\"order-details-screen\">\r\n                    <h1 className=\"page-title\">Order Summary</h1>\r\n                    <h2>Order Number: {order._id}</h2>\r\n                    <div className=\"row top\">\r\n                        <div className=\"col-2 col-right-margin\">\r\n                            <ul>\r\n                                <li>\r\n                                    <h2>Shipping</h2>\r\n                                    <p>\r\n                                        <strong>Name:</strong> {order.shippingAddress.fullName} <br/>\r\n                                        <strong>Address:</strong> {order.shippingAddress.suiteNumber !== '' ? order.shippingAddress.suiteNumber + \" - \" : \"\"}{order.shippingAddress.streetAddress},\r\n                                        {order.shippingAddress.city}, {order.shippingAddress.province}, {order.shippingAddress.postalCode} <br/>\r\n                                        <strong>Phone:</strong> {order.shippingAddress.phoneNumber}\r\n                                    </p>\r\n                                    {order.isShipped ?\r\n                                        <MessageBox variant=\"success\">Status: Shipped on {order.shippedOn}</MessageBox> :\r\n                                        <MessageBox variant=\"danger\">Status: Not yet shipped</MessageBox>\r\n                                    }\r\n                                </li>\r\n                                <li>\r\n                                    <h2>Payment</h2>\r\n                                    <p>\r\n                                        <strong>Payment Method:</strong> {order.paymentMethod}\r\n                                    </p>\r\n                                    {order.isPaid ?\r\n                                        <MessageBox variant=\"success\">Status: Paid on {order.paidOn}</MessageBox> :\r\n                                        <MessageBox variant=\"danger\">Status: Not yet paid</MessageBox>\r\n                                    }\r\n                                </li>\r\n                                <li>\r\n                                    <h2>Order Items</h2>\r\n                                    <ul className=\"order-items\">\r\n                                        {\r\n                                            order.orderItems.map(item => (\r\n                                                <li key={item.product}>\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"cart-thumbnail\">\r\n                                                            <Link to={`/product/${item.product}`}><img src={item.image} alt={item.name} className=\"cover\"/></Link>\r\n                                                        </div>\r\n                                                        <div className=\"min-30\">\r\n                                                            <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                                        </div>\r\n                                                        <div>{item.qty} x ${item.price} = ${item.qty * item.price}</div>\r\n                                                    </div>\r\n                                                </li>\r\n                                            ))\r\n                                        }\r\n                                    </ul>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div className=\"col-1 col-left-margin\">\r\n                            <div className=\"card\">\r\n                                <ul>\r\n                                    <li>\r\n\r\n                                    </li>\r\n                                    <li>\r\n                                        <div className=\"row\">\r\n                                            <div>{order.orderItems.reduce((a,c) => a + c.qty, 0)} Items</div>\r\n                                            <div>${order.itemsPrice.toFixed(2)}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div>Shipping</div>\r\n                                            <div>${order.shippingPrice.toFixed(2)}</div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div>Tax</div>\r\n                                            <div>${order.tax.toFixed(2)}</div>\r\n                                        </div>\r\n                                        <hr/>\r\n                                        <div className=\"row\">\r\n                                            <div><strong>Total</strong></div>\r\n                                            <div><strong>${order.totalPrice.toFixed(2)}</strong></div>\r\n                                        </div>\r\n                                    </li>\r\n                                    {!order.isPaid && (\r\n                                        <li>\r\n                                            {!sdkReady ? <LoadingBox/> :\r\n                                                <>\r\n                                                    {errorPay && <MessageBox variant=\"danger\">{errorPay}</MessageBox>}\r\n                                                    {loadingPay && <LoadingBox/>}\r\n                                                    <PayPalButton amount={order.totalPrice} onSuccess={successPaymentHandler}/>\r\n                                                </>\r\n                                            }\r\n                                        </li>\r\n                                    )}\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n};\r\n\r\nexport default OrderDetailsScreen;","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {listOrder} from \"../actions/orderActions\";\r\n\r\nconst OrderHistoryScreen = (props) => {\r\n    const orderList = useSelector(state => state.orderList);\r\n    const {loading, error, orders} = orderList;\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(listOrder());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div>\r\n            <h1 className=\"page-title\">Order History</h1>\r\n            {loading ?\r\n                <LoadingBox/> :\r\n                error ?\r\n                    <MessageBox variant=\"danger\">{error}</MessageBox> :\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Order#</th>\r\n                            <th>Date</th>\r\n                            <th>Total</th>\r\n                            <th>Paid</th>\r\n                            <th>Shipped</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {orders.map(order => (\r\n                            <tr key={order._id}>\r\n                                <td>{order._id}</td>\r\n                                <td>{order.createdAt.substring(0, 10)}</td>\r\n                                <td>{order.totalPrice}</td>\r\n                                <td>{order.isPaid ? order.paidOn.substring(0, 10) : 'No'}</td>\r\n                                <td>{order.isShipped ? order.shippedOn.substring(0, 10) : 'No'}</td>\r\n                                <td>\r\n                                    <button type=\"button\" className=\"small secondary\" onClick={() => {\r\n                                        props.history.push(`/order/${order._id}`);\r\n                                    }}>Details</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        </tbody>\r\n                    </table>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderHistoryScreen;","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {detailsUser, updateUser} from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {USER_UPDATE_RESET} from \"../constants/userConstants\";\r\n\r\nconst ProfileScreen = () => {\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [showSuccessMsg, setShowSuccessMsg] = useState(false);\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const {userInfo} = userSignin;\r\n    const userDetails = useSelector(state => state.userDetails);\r\n    const {loading, user, error} = userDetails;\r\n\r\n    const userUpdate = useSelector(state => state.userUpdate);\r\n    const {success: successUpdate, loading: loadingUpdate, error: errorUpdate} = userUpdate;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        //load user details if it's null\r\n        if(!user){\r\n            dispatch({type: USER_UPDATE_RESET});\r\n            dispatch(detailsUser(userInfo._id));\r\n        }else{\r\n            setName(userInfo.name);\r\n            setEmail(userInfo.email);\r\n        }\r\n    }, [dispatch, userInfo, user]);\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        if(password !== confirmPassword){\r\n            alert(\"Password and confirm password does not match.\");\r\n        }else {\r\n            dispatch(updateUser({userId: userInfo._id, name, email, password}));\r\n            if(successUpdate){\r\n                setShowSuccessMsg(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1 className=\"page-title\">Your Profile</h1>\r\n                </div>\r\n                {loading ?\r\n                    <LoadingBox/> :\r\n                    error ?\r\n                        <MessageBox variant=\"danger\">{error}</MessageBox> :\r\n                        <>\r\n                            {loadingUpdate && <LoadingBox/>}\r\n                            {errorUpdate && <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>}\r\n                            {showSuccessMsg && <MessageBox variant=\"success\">Your profile update successfully</MessageBox>}\r\n                            <div>\r\n                                <label htmlFor=\"name\">Name</label>\r\n                                <input type=\"text\" id=\"name\" value={name} onChange={(e) => setName(e.target.value)}/>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"email\">Email</label>\r\n                                <input type=\"email\" id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)}/>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <input type=\"password\" id=\"password\" placeholder=\"Enter new password\" onChange={(e) => setPassword(e.target.value)}/>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"confirmPassword\">Confirm password</label>\r\n                                <input type=\"password\" id=\"confirmPassword\" placeholder=\"Confirm new password\" onChange={(e) => setConfirmPassword(e.target.value)}/>\r\n                            </div>\r\n                            <div>\r\n                                <label/>\r\n                                <button className=\"primary\" type=\"submit\">Update</button>\r\n                            </div>\r\n                        </>\r\n                }\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileScreen;","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {Route, Redirect} from \"react-router-dom\";\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => {\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const {userInfo} = userSignin;\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => userInfo ?\r\n                <Component {...props}/> :\r\n                <Redirect to=\"/signin\"/>\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;","export default __webpack_public_path__ + \"static/media/cheewa-logo.18b2792b.png\";","import React, {useEffect} from 'react';\r\nimport Product from \"../components/Product\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listProducts} from \"../actions/productActions\";\r\n\r\nconst ProductsListScreen = () => {\r\n    const dispatch = useDispatch();\r\n    const productList = useSelector(state => state.productList);\r\n    const {loading, error, products} = productList;\r\n\r\n    useEffect(() => {\r\n        dispatch(listProducts());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div className=\"products-list-screen\">\r\n            <h1 className=\"text-center page-title\">Our Products</h1>\r\n            {loading ?\r\n                <LoadingBox/> :\r\n                error ?\r\n                    <MessageBox variant=\"danger\">{error}</MessageBox> :\r\n                    <div className=\"row\">\r\n                        {\r\n                            products.map(product => (\r\n                                <Product key={product._id} product={product}/>\r\n                            ))\r\n                        }\r\n                    </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductsListScreen;","import React from 'react';\nimport {BrowserRouter, Link, Route} from \"react-router-dom\";\nimport HomeScreen from \"./screens/HomeScreen\";\nimport ProductScreen from \"./screens/ProductScreen\";\nimport CartScreen from \"./screens/CartScreen\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport SigninScreen from \"./screens/SigninScreen\";\nimport {signout} from \"./actions/userActions\";\nimport RegisterScreen from \"./screens/RegisterScreen\";\nimport ShippingScreen from \"./screens/ShippingScreen\";\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\nimport OrderDetailsScreen from \"./screens/OrderDetailsScreen\";\nimport OrderHistoryScreen from \"./screens/OrderHistoryScreen\";\nimport ProfileScreen from \"./screens/ProfileScreen\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport logo from \"./cheewa-logo.png\";\nimport ProductsListScreen from \"./screens/ProductsListScreen\";\n\nfunction App() {\n  const cart = useSelector((state) => state.cart);\n  const { cartItems } = cart;\n  const userSignin = useSelector(state => state.userSignin);\n  const {userInfo} = userSignin;\n\n  const dispatch = useDispatch();\n\n  const signouthandler = () => {\n    dispatch(signout());\n  }\n\n  return (\n      <BrowserRouter>\n        <div className=\"grid-container\">\n          <header className=\"row\">\n            <div>\n              <Link className=\"logo\" to=\"/\"><img src={logo} alt=\"logo\"/></Link>\n            </div>\n            <div>\n              <Link className=\"products-link\" to=\"/products\">Products</Link>\n              <Link to=\"/cart\"><i className=\"fa fa-shopping-cart fa-lg\"/>\n              {cartItems.length > 0 ?\n                  <span className=\"badge\">{cartItems.length}</span> :\n                  <></>\n              }\n              </Link>\n              {userInfo ?\n                  <div className=\"dropdown\">\n                    <Link to=\"#\"><i className=\"fa fa-user fa-lg\"/> </Link>\n                    <ul className=\"dropdown-content\">\n                      <li>Hi, {userInfo.name}</li>\n                      <li><Link to=\"/profile\">User Profile</Link></li>\n                      <li><Link to=\"/orderhistory\">Order History</Link></li>\n                      <li><Link to=\"/signin\" onClick={signouthandler}>Sign Out</Link></li>\n                    </ul>\n                  </div>:\n                  <Link to=\"/signin\">Sign in</Link>\n              }\n              {userInfo && userInfo.isAdmin && (\n                  <div className=\"dropdown\">\n                    <Link to=\"#admin\"><i className=\"fa fa-cog fa-lg\"/></Link>\n                    <ul className=\"dropdown-content\">\n                      <li><Link to=\"/dashboard\">Dashboard</Link></li>\n                      <li><Link to=\"/productlist\">Products</Link></li>\n                      <li><Link to=\"/orderlist\">Orders</Link></li>\n                      <li><Link to=\"/userlist\">Users</Link></li>\n                    </ul>\n                  </div>\n              )}\n            </div>\n          </header>\n\n          <main>\n            <Route path=\"/\" component={HomeScreen} exact/>\n            <Route path=\"/products\" component={ProductsListScreen}/>\n            <Route path=\"/product/:id\" component={ProductScreen}/>\n            <Route path=\"/cart/:id?\" component={CartScreen}/> {/* Adding ? to make id optional */}\n            <Route path=\"/signin\" component={SigninScreen}/>\n            <Route path=\"/register\" component={RegisterScreen}/>\n            <PrivateRoute path=\"/profile\" component={ProfileScreen}/>\n            <Route path=\"/shipping\" component={ShippingScreen}/>\n           {/* <Route path=\"/payment\" component={PaymentScreen}/>*/}\n            <Route path=\"/placeorder\" component={PlaceOrderScreen}/>\n            <Route path=\"/order/:id\" component={OrderDetailsScreen}/>\n            <Route path=\"/orderhistory\" component={OrderHistoryScreen}/>\n          </main>\n\n          <footer className=\"row center\">\n            © Cheewa Natural Food 2021\n          </footer>\n        </div>\n      </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {productDetailsReducer, productListReducer} from \"./reducers/productReducers\";\r\nimport {cartReducers} from \"./reducers/cartReducers\";\r\nimport {userDetailsReducer, userRegisterReducer, userSigninReducer, userUpdateReducer} from \"./reducers/userReducers\";\r\nimport {orderCreateReducer, orderDetailsReducer, orderListReducer, orderPayReducer} from \"./reducers/orderReducers\";\r\n\r\nconst initialState = {\r\n    userSignin: {\r\n        userInfo: (localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null)\r\n    },\r\n    cart: {\r\n        cartItems: (localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []),\r\n        shippingAddress: (localStorage.getItem('shippingAddress') ? JSON.parse(localStorage.getItem('shippingAddress')) : {}),\r\n        paymentMethod: 'PayPal'\r\n    }\r\n};\r\nconst reducer = combineReducers({\r\n    productList: productListReducer,\r\n    productDetails: productDetailsReducer,\r\n    cart: cartReducers,\r\n    userSignin: userSigninReducer,\r\n    userRegister: userRegisterReducer,\r\n    userDetails: userDetailsReducer,\r\n    userUpdate: userUpdateReducer,\r\n    orderCreate: orderCreateReducer,\r\n    orderDetails: orderDetailsReducer,\r\n    orderPay: orderPayReducer,\r\n    orderList: orderListReducer,\r\n});\r\n\r\n//For displaying redux in browser dev console\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n//Store cart items on local\r\nconst store = createStore(reducer, initialState, composeEnhancer(applyMiddleware(thunk)));\r\n\r\nexport default store;","import {\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS\r\n} from \"../constants/productConstants\";\r\n\r\nexport const productListReducer = (state = {loading: true, products: []}, action) => {\r\n    switch (action.type){\r\n        case PRODUCT_LIST_REQUEST:\r\n            return {loading: true};\r\n        case PRODUCT_LIST_SUCCESS:\r\n            return {loading: false, products: action.payload};\r\n        case PRODUCT_LIST_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const productDetailsReducer = (state = { product: {}, loading: true }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_DETAILS_REQUEST:\r\n            return { loading: true };\r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return { loading: false, product: action.payload };\r\n        case PRODUCT_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n};","import {\r\n    CART_ADD_ITEM, CART_EMPTY,\r\n    CART_REMOVE_ITEM,\r\n    CART_SAVE_PAYMENT_METHOD,\r\n    CART_SAVE_SHIPPING_ADDRESS\r\n} from \"../constants/cartConstants\";\r\n\r\nexport const cartReducers = (state = {cartItems:[]}, action) => {\r\n    switch (action.type){\r\n        case CART_ADD_ITEM:\r\n            const item = action.payload; //item to be added to the cart\r\n            const existItem = state.cartItems.find(x => x.product === item.product) //check if the product is already added by comparing product id\r\n            if(existItem){\r\n                return {\r\n                    //return previous state + cartItems\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(x => x.product === existItem.product ? item : x) //If the item is already in cartItem, update it to the new one.\r\n                }\r\n            }else {\r\n                return {...state, cartItems: [...state.cartItems, item]} //append new item to the end of cartItem\r\n            }\r\n        case CART_REMOVE_ITEM:\r\n            return {...state, cartItems: state.cartItems.filter(x => x.product !== action.payload)};\r\n        case CART_SAVE_SHIPPING_ADDRESS:\r\n            return {...state, shippingAddress: action.payload};\r\n        case CART_SAVE_PAYMENT_METHOD:\r\n            return {...state, paymentMethod: action.payload};\r\n        case CART_EMPTY:\r\n            return {...state, cartItems: []};\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    USER_DETAILS_FAIL,\r\n    USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS,\r\n    USER_REGISTER_FAIL,\r\n    USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS,\r\n    USER_SIGNIN_FAIL,\r\n    USER_SIGNIN_REQUEST,\r\n    USER_SIGNIN_SUCCESS,\r\n    USER_SIGNOUT, USER_UPDATE_FAIL, USER_UPDATE_REQUEST, USER_UPDATE_RESET, USER_UPDATE_SUCCESS\r\n} from \"../constants/userConstants\";\r\n\r\nexport const userSigninReducer = (state = {}, action) => {\r\n    switch (action.type){\r\n        case USER_SIGNIN_REQUEST:\r\n            return {loading: true};\r\n        case USER_SIGNIN_SUCCESS:\r\n            return {loading: false, userInfo: action.payload};\r\n        case USER_SIGNIN_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case USER_SIGNOUT:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n    switch (action.type){\r\n        case USER_REGISTER_REQUEST:\r\n            return {loading: true};\r\n        case USER_REGISTER_SUCCESS:\r\n            return {loading: false, userInfo: action.payload};\r\n        case USER_REGISTER_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//set loading to true since userDetailsReducer is called at the beginning of loading the page\r\nexport const userDetailsReducer = (state = {loading: true}, action) => {\r\n    switch (action.type){\r\n        case USER_DETAILS_REQUEST:\r\n            return {loading: true};\r\n        case USER_DETAILS_SUCCESS:\r\n            return {loading: false, user: action.payload};\r\n        case USER_DETAILS_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const userUpdateReducer = (state = {}, action) => {\r\n    switch (action.type){\r\n        case USER_UPDATE_REQUEST:\r\n            return {loading: true};\r\n        case USER_UPDATE_SUCCESS:\r\n            return {loading: false, success: true};\r\n        case USER_UPDATE_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case USER_UPDATE_RESET:\r\n            console.log(USER_UPDATE_RESET);\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n};","import {\r\n    ORDER_CREATE_FAIL,\r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_RESET,\r\n    ORDER_CREATE_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS, ORDER_LIST_FAIL, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_PAY_FAIL,\r\n    ORDER_PAY_REQUEST, ORDER_PAY_RESET,\r\n    ORDER_PAY_SUCCESS\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n    switch (action.type){\r\n        case ORDER_CREATE_REQUEST:\r\n            return {loading: true};\r\n        case ORDER_CREATE_SUCCESS:\r\n            return {loading: false, success: true, order: action.payload};\r\n        case ORDER_CREATE_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case ORDER_CREATE_RESET:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const orderDetailsReducer = (state = {loading: true}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_DETAILS_REQUEST:\r\n            return {loading: true};\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return {loading: false, order: action.payload};\r\n        case ORDER_DETAILS_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_PAY_REQUEST:\r\n            return {loading: true};\r\n        case ORDER_PAY_SUCCESS:\r\n            return {loading: false, success: true};\r\n        case ORDER_PAY_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case ORDER_PAY_RESET:\r\n            return {}\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const orderListReducer = (state = {orders: []}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_LIST_REQUEST:\r\n            return {loading: true};\r\n        case ORDER_LIST_SUCCESS:\r\n            return {loading: false, orders: action.payload};\r\n        case ORDER_LIST_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n    <Provider store={store}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}